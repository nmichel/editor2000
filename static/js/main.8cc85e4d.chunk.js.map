{"version":3,"sources":["components/ControlPanel.module.scss","components/Properties.module.scss","components/Toolbar.module.scss","components/Tree.module.scss","components/Overlay.module.scss","components/controls/controls.module.scss","components/Components.module.scss","components/common.module.scss","components/App.module.scss","components/YoutubeVideo.module.scss","serviceWorker.js","actions/langActions.js","constants/action-types.js","misc/reduxtils.js","actions/componentActions.js","actions/index.js","actions/editorActions.js","misc/utils.js","components/controls/Cross.js","components/controls/YesNo.js","components/controls/Delete.js","components/controls/Navigator.js","components/registry.js","components/Properties.js","components/Tree.js","components/ControlPanel.js","components/EditorFrame.js","components/Overlay.js","components/Toolbar.js","components/Components.js","components/Text.js","components/Image.js","components/controls/ChildAdder.js","components/Layout.js","components/YoutubeVideo.js","components/App.js","reducers/componentsReducer.js","reducers/movies.js","reducers/langReducer.js","reducers/editorReducer.js","reducers/index.js","store/index.js","translations/en-translations.js","translations/fr-translations.js","translations/i18n.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","setLang","lang","type","payload","createAction","name","fn","actionFn","res","arguments","toString","reset","load","save","editComponent","id","cancelEdition","setParamValue","param","value","setStyleValue","property","params","addStyle","deleteStyle","appendComponent","prependComponent","deleteComponent","navigatePrev","navigateNext","navigateUp","navigateDown","setOverlayTarget","target","startDrag","dragOver","drop","actions","langActions","component","componentActions","editor","buildEventHandlerWrapper","e","stopPropagation","noop","Cross","dispatch","useDispatch","clickEventHandler","onClick","className","commonStyle","toolbar_button","styles","icon","YesNo","onYes","onNo","t","useTranslation","yesno","toolbar_button_group","Delete","useState","showYesNo","setShowYesNo","useEffect","Navigator","toolbar_button_section","toolbar_button_section_title","components","registerComponent","declaration","props","controls","rest","getRecordForName","getComponentForName","getDefaultParamsForName","default","PropertyEditor","k","v","setValue","onKeyPress","event","key","onChange","PropertyList","style","useSelector","state","states","Object","entries","map","AddPropertyPanel","setProperty","PropertyAdder","Properties","activeComponentId","active","LabelSelectComponent","Tree","tree","root","renderSubcomponents","Subcomponents","ids","subId","renderComponent","compoDesc","Component","Row","children","Group","title","GroupTitle","GroupContent","Item","SaveButton","Button","OpenButton","NewButton","ControlPanel","showBar","setShowBar","rotate","hamburger_button","EditorFrame","dropTarget","getEditorForName","componentEl","setComponentEl","useLayoutEffect","useMemo","newStyle","background","React","createElement","onDragOver","preventDefault","onDrop","ref","parseMetricProp","suffix","parseInt","substring","length","useDOMRect","element","withMargin","rect","setRect","refElementRectList","getClientRects","refElementRect","overlayRect","adjustRectWithMargin","refresherId","setInterval","newRectList","newRect","oldRect","identicalRect","REFRESH_DELAY_MS","clearInterval","getComputedStyle","mt","getPropertyValue","ml","mb","mr","left","top","width","height","r1","r2","Overlay","refElement","position","refPosition","setStyle","minWidth","minHeight","draggable","onDragStart","edit","OverlayHeader","OverlayContent","Toolbar","getControlsForName","unfold","fold","c","idx","tool","ComponentOnsiteEditor","clazz","onsite","url","handleChangeFn","text","renderOnSiteEditors","ComponentToolbar","TextInputField","setText","border","borderRadius","outline","padding","pointerEvents","zIndex","onKeyDown","keyCode","Components","stateComponentsRoot","stateComponentsStatesRoot","Editor","Header","Text","forwardRef","contentEditable","suppressContentEditableWarning","onBlur","currentTarget","innerHTML","replace","Image","src","alt","TypeSelector","chooseComponent","keys","ChildAdder","componentName","setComponentName","isValidComponent","inactive","undefined","Subcomponent","Layout","alignItems","display","flexDirection","YOUTUBE_SRC","Youtube","isDragging","dragging","sdkReady","setSdkReady","playerRef","useRef","document","querySelector","onYouTubeIframeAPIReady","youtubeScript","head","appendChild","iframeStyle","EditBar","code","frameBorder","allow","autoplay","allowFullScreen","App","i18n","changeLanguage","id1","uuidv4","INITIAL_STATE","dropTargetId","createReducer","initialState","reducers","action","reducerFn","Actions","_state","_action","dataToLoad","localStorage","getItem","JSON","parse","storableState","setItem","stringify","newStates","oldId","oldComponentState","newState","oldStyle","newComponentId","parent","newIds","forEach","componentState","indexOf","slice","hasOrphans","reduce","accIn","currentId","parentId","targetId","currentState","canDrop","testDropId","targetParentId","movedId","movedParentId","movedParent","targetParent","targetParentIds","idx1","newIds1","moved","langReducer","editorReducer","cascadeReducers","fns","stateIn","reducer","debug","console","log","combineReducers","componentsReducer","store","createStore","rootReducer","__REDUX_DEVTOOLS_EXTENSION__","enTranslations","frTranslations","use","initReactI18next","init","resources","en","translations","fr","fallbackLng","ns","defaultNS","keySeparator","interpolation","escapeValue","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.8cc85e4d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ControlPanel\":\"ControlPanel_ControlPanel__1jrVZ\",\"Row\":\"ControlPanel_Row__1-QAu\",\"Group\":\"ControlPanel_Group__3GyCl\",\"GroupTitle\":\"ControlPanel_GroupTitle__1PbQE\",\"GroupContent\":\"ControlPanel_GroupContent__rqcOH\",\"Item\":\"ControlPanel_Item__3hm3-\",\"Button\":\"ControlPanel_Button__2Xxr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Properties\":\"Properties_Properties__1tHcE\",\"LabelSelectComponent\":\"Properties_LabelSelectComponent__3-9DL\",\"PropertyList\":\"Properties_PropertyList__XtcIy\",\"PropertyEditor\":\"Properties_PropertyEditor__3Cwn8\",\"PropertyAdder\":\"Properties_PropertyAdder__2e4nj\",\"hamburger_button\":\"Properties_hamburger_button__2xN9D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Toolbar\":\"Toolbar_Toolbar__3XXhw\",\"controls\":\"Toolbar_controls__nhc29\",\"fold\":\"Toolbar_fold__Lw8cF\",\"tool\":\"Toolbar_tool__T-QD-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Tree\":\"Tree_Tree__1cu2W\",\"Component\":\"Tree_Component__3KUwr\",\"Subcomponents\":\"Tree_Subcomponents__1Nqst\",\"active\":\"Tree_active__3_dcM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Overlay_Overlay__ikYeb\",\"edit\":\"Overlay_edit__15e2J\",\"OverlayHeader\":\"Overlay_OverlayHeader__1F06H\",\"OverlayContent\":\"Overlay_OverlayContent__10vyg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"controls_icon__1yj9p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Editor\":\"Components_Editor__2Cc94\",\"Header\":\"Components_Header__YJ_Qb\",\"Components\":\"Components_Components__32FoM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbar_button_section\":\"common_toolbar_button_section__2_jXe\",\"toolbar_button_section_title\":\"common_toolbar_button_section_title__27_MQ\",\"toolbar_button_group\":\"common_toolbar_button_group__38Q6T\",\"toolbar_button\":\"common_toolbar_button__3oTw7\",\"inactive\":\"common_inactive__2vugK\",\"rotate\":\"common_rotate__1BgsA\",\"yesno\":\"common_yesno__14j8X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__rq8wc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"EditBar\":\"YoutubeVideo_EditBar__Nlq48\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { SET_LANG } from '../constants/action-types'; \n\nconst setLang = (lang) => {\n  return {\n    type: SET_LANG,\n    payload: lang,\n  };\n};\n\nexport default {\n  setLang\n}\n","export const RESET = 'RESET';\n\nexport const LOAD = 'LOAD';\nexport const SAVE = 'SAVE';\n\nexport const SET_LANG = 'SET_LANG';\n\nexport const SET_PARAM_VALUE = 'SET_PARAM_VALUE';\n\nexport const EDIT_COMPONENT = 'EDIT_COMPONENT';\nexport const CANCEL_EDITION = 'CANCEL_EDITION';\n\nexport const SET_STYLE_VALUE = 'SET_STYLE_VALUE';\nexport const ADD_STYLE = 'ADD_STYLE';\nexport const DELETE_STYLE = 'DELETE_STYLE';\n\nexport const APPEND_COMPONENT = 'APPEND_COMPONENT';\nexport const PREPEND_COMPONENT = 'PREPEND_COMPONENT';\n\nexport const DELETE_COMPONENT = 'DELETE_COMPONENT';\n\nexport const NAVIGATE_PREV = 'NAVIGATE_PREV';\nexport const NAVIGATE_NEXT = 'NAVIGATE_NEXT';\nexport const NAVIGATE_UP = 'NAVIGATE_UP';\nexport const NAVIGATE_DOWN = 'NAVIGATE_DOWN';\n\nexport const SET_OVERLAY_TARGET = 'SET_OVERLAY_TARGET';\n\nexport const START_DRAG = 'START_DRAG';\nexport const DRAG_OVER = 'DRAG_OVER';\nexport const DROP = 'DROP';\n","export function createAction(name, fn = () => ({})) {\n  // No arrow function here !\n  // Parameters must be bound at run time, not lexically.\n  const actionFn = function() {\n    const res = fn(...arguments);\n    return {...res, type: name};\n  }\n  actionFn.toString = () => name;\n\n  return actionFn;\n}\n\nexport function createReducer(initialState, reducers) {\n  return (state = initialState, action) => {\n    const reducerFn = reducers[action.type];\n    return reducerFn ? reducerFn(state, action) : state;\n  }\n}\n\nexport function cascadeReducers() {\n  const fns = [...arguments];\n  return (state, action) =>\n    fns.reduce((stateIn, reducer) => reducer(stateIn, action), state)\n}\n","import * as ActionTypes from '../constants/action-types'; \nimport { createAction } from '../misc/reduxtils';\n\nconst reset = createAction(ActionTypes.RESET);\n\nconst load = createAction(ActionTypes.LOAD);\n\nconst save = createAction(ActionTypes.SAVE);\n\nconst editComponent = createAction(ActionTypes.EDIT_COMPONENT, (id) => {\n  return { \n    id\n  };\n});\n\nconst cancelEdition = createAction(ActionTypes.CANCEL_EDITION);\n\nconst setParamValue = createAction(ActionTypes.SET_PARAM_VALUE, (id, param, value) => {\n  return {\n    id,\n    payload: { param, value }\n  };\n});\n\nconst setStyleValue = createAction(ActionTypes.SET_STYLE_VALUE, (id, property, value) => {\n  return {\n    id,\n    payload: { params: { property, value } }\n  }\n});\n\nconst addStyle = createAction(ActionTypes.ADD_STYLE, (id, property, value) => {\n  return {\n    id,\n    payload: { params: { property, value } }\n  }\n});\n\nconst deleteStyle = createAction(ActionTypes.DELETE_STYLE, (id, property) => {\n  return {\n    id,\n    payload: { params: { property } }\n  }\n});\n\nconst appendComponent = createAction(ActionTypes.APPEND_COMPONENT, (id, name) => {\n  return {\n    id,\n    payload: { params: { name } }\n  }\n});\n\nconst prependComponent = createAction(ActionTypes.PREPEND_COMPONENT, (id, name) => {\n  return {\n    id,\n    payload: { params: { name } }\n  }\n});\n\nconst deleteComponent = createAction(ActionTypes.DELETE_COMPONENT, (id, name) => {\n  return {\n    id,\n    payload: {}\n  }\n});\n\nconst navigatePrev = createAction(ActionTypes.NAVIGATE_PREV, (id) => {\n  return {\n    id\n  }\n});\n\nconst navigateNext = createAction(ActionTypes.NAVIGATE_NEXT, (id) => {\n  return {\n    id\n  }\n});\n\nconst navigateUp = createAction(ActionTypes.NAVIGATE_UP, (id) => {\n  return {\n    id\n  }\n});\n\nconst navigateDown = createAction(ActionTypes.NAVIGATE_DOWN, (id) => {\n  return {\n    id\n  }\n});\n\nconst setOverlayTarget = createAction(ActionTypes.SET_OVERLAY_TARGET, (target) => {\n  return {\n    target\n  }\n});\n\nconst startDrag = createAction(ActionTypes.START_DRAG);\n\nconst dragOver = createAction(ActionTypes.DRAG_OVER, (id) => {\n  return {\n    id\n  }\n});\n\nconst drop = createAction(ActionTypes.DROP, (id) => {\n  return {\n    id\n  }\n});\n\nexport default {\n  reset,\n  load,\n  save,\n  editComponent,\n  cancelEdition,\n  setParamValue,\n  setStyleValue,\n  addStyle,\n  deleteStyle,\n  appendComponent,\n  prependComponent,\n  deleteComponent,\n  navigatePrev,\n  navigateNext,\n  navigateUp,\n  navigateDown,\n  setOverlayTarget,\n  startDrag,\n  dragOver,\n  drop\n}\n","import langActions from \"./langActions\";\nimport componentActions from \"./componentActions\";\nimport editorActions from \"./editorActions\";\n\nconst actions = {\n  lang: langActions,\n  component: componentActions,\n  editor: editorActions\n};\n\nexport default actions;\n","import * as ActionTypes from '../constants/action-types'; \n\nexport default {\n}\n","export const buildEventHandlerWrapper = (fn) => {\n  return (e) => {\n    e.stopPropagation();\n    fn()\n  }\n};\n\nexport const noop = () => {};\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { FaTimesCircle } from 'react-icons/fa';\nimport { buildEventHandlerWrapper } from '../../misc/utils';\nimport actions from '../../actions';\nimport commonStyle from '../common.module.scss';\nimport styles from './controls.module.scss';\n\nconst Cross = () => {\n  const dispatch = useDispatch();\n  const cancelEdition = () => dispatch(actions.component.cancelEdition());\n  const clickEventHandler = buildEventHandlerWrapper(cancelEdition);\n\n  return (\n    <div onClick={clickEventHandler} className={`${commonStyle.toolbar_button} ${styles.icon}`}><FaTimesCircle /></div>\n  )\n};\n  \nexport default Cross;\n","import React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport commonStyle from '../common.module.scss';\n\nconst YesNo = ({onYes, onNo}) => {\n  const {t} = useTranslation();\n\n  return (\n    <div className={`${commonStyle.yesno} ${commonStyle.toolbar_button_group}`}>\n      <div className={`${commonStyle.toolbar_button}`} onClick={onYes}>{t('YesNo.yes')}</div>\n      <div className={`${commonStyle.toolbar_button}`} onClick={onNo}>{t('YesNo.no')}</div>\n    </div>\n  );\n}\n\nexport default YesNo;\n","import React, {useEffect, useState} from 'react';\nimport { useDispatch } from 'react-redux';\nimport { FaTrashAlt } from 'react-icons/fa';\nimport YesNo, {withYesNo} from './YesNo';\nimport actions from '../../actions';\nimport commonStyle from '../common.module.scss';\nimport styles from './controls.module.scss';\n\nconst Delete = ({id}) => {\n  const [showYesNo, setShowYesNo] = useState(false);\n  const dispatch = useDispatch();\n  const deleteComponent = () => dispatch(actions.component.deleteComponent(id));\n\n  useEffect(() => {\n    setShowYesNo(false);\n  }, [id]);\n\n  const cancelDelete = () => setShowYesNo(false);\n  const doDelete = () => {\n    deleteComponent();\n    setShowYesNo(false);\n  };\n\n  return (\n    <div>\n      <div onClick={() => setShowYesNo(!showYesNo)} className={`${commonStyle.toolbar_button} ${styles.icon}`}>\n        <FaTrashAlt />\n      </div>\n      {showYesNo && <YesNo onYes={doDelete} onNo={cancelDelete} />}\n    </div>\n  )\n};\n  \nexport default Delete;\n","import React from 'react';\nimport {useDispatch} from 'react-redux';\nimport {useTranslation} from 'react-i18next';\nimport {FaRegArrowAltCircleLeft, FaRegArrowAltCircleRight, FaRegArrowAltCircleUp, FaRegArrowAltCircleDown} from 'react-icons/fa';\nimport actions from '../../actions';\nimport styles from '../common.module.scss';\n\nconst Navigator = ({id}) => {\n  const {t} = useTranslation();\n  const dispatch = useDispatch();\n  const navigatePrev = () => dispatch(actions.component.navigatePrev(id));\n  const navigateNext = () => dispatch(actions.component.navigateNext(id));\n  const navigateUp = () => dispatch(actions.component.navigateUp(id));\n  const navigateDown = () => dispatch(actions.component.navigateDown(id));\n\n  return (\n    <div className={`${styles.toolbar_button_section}`}>\n      <div className={`${styles.toolbar_button_section_title}`}>{t('Navigator.navigate')}</div>\n      <div className={`${styles.toolbar_button_group}`}>\n        <div className={`${styles.toolbar_button}`} onClick={navigatePrev}>\n          <FaRegArrowAltCircleLeft />\n        </div>\n        <div className={`${styles.toolbar_button}`} onClick={navigateNext}>\n        <FaRegArrowAltCircleRight />\n        </div>\n        <div className={`${styles.toolbar_button}`} onClick={navigateUp}>\n          <FaRegArrowAltCircleUp />\n        </div>\n        <div className={`${styles.toolbar_button}`} onClick={navigateDown}>\n        <FaRegArrowAltCircleDown />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Navigator;","import Cross from '../components/controls/Cross';\nimport Delete from '../components/controls/Delete';\nimport Navigator from '../components/controls/Navigator';\n\nconst components = {};\nwindow.components = components;\n\nconst registerComponent = (declaration) => {\n  const {name, ...props} = declaration;\n  let {controls = [], ...rest} = props;\n  controls = [Navigator, Delete, Cross, ...controls];\n\n  components[name] = {controls, ...rest};\n};\n\nconst getRecordForName = (name) => components[name] || {};\n\nconst getComponentForName = (name) => getRecordForName(name).component;\n\nconst getEditorForName = (name) => getRecordForName(name).editor;\n\nconst getControlsForName = (name) => getRecordForName(name).controls;\n\nconst getComponentNameList = () => Object.keys(components);\n\nconst getDefaultParamsForName = (name) => getRecordForName(name).default;\n\nconst getOnsitePropsForName = (name) => getRecordForName(name).onsite;\n\nexport {\n  registerComponent,\n  getComponentForName,\n  getEditorForName,\n  getControlsForName,\n  getComponentNameList,\n  getDefaultParamsForName,\n  getOnsitePropsForName\n}\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { FaPlusCircle, FaTrashAlt } from 'react-icons/fa';\nimport actions from '../actions';\nimport styles from './Properties.module.scss';\n\nconst PropertyEditor = ({id, k, v}) => {\n  const dispatch = useDispatch();\n  const [value, setValue] = useState(v);\n\n  const handleOnValidate = (event) => {\n    if (event.key === 'Enter') {\n      dispatch(actions.component.setStyleValue(id, k, value));\n    }\n  }\n\n  const handleOnChange = (event) => {\n    setValue(event.target.value);\n  }\n\n  const deleteProperty = () => {\n    dispatch(actions.component.deleteStyle(id, k));\n  }\n\n  return (\n    <div className={`${styles.PropertyEditor}`}>\n      <span>{k}</span>\n      <input value={value} onKeyPress={handleOnValidate} onChange={handleOnChange} />\n      <button onClick={deleteProperty}><FaTrashAlt /></button>\n    </div>\n  );\n}\n\nconst PropertyList = ({id}) => {\n  const style = useSelector((state) => state.components.states[id].style);\n\n  return (\n    <div>\n      <div>{id}</div>\n      <div className={`${styles.PropertyList}`}>\n        {Object.entries(style).map(([k, v]) => {\n          return <PropertyEditor key={`${id}_${k}`} id={id} k={k} v={v} />;\n        })}\n      </div>\n      <AddPropertyPanel id={id} />\n    </div>\n  );\n};\n\nconst Properties = () => {\n  const { t } = useTranslation();\n  const activeComponentId = useSelector((state) => state.components.active);\n//  <h1>{t(\"Properties.title\")}</h1>\n\n  return (\n    <div className={styles.Properties}>\n      {activeComponentId && <PropertyList id={activeComponentId} />}\n      {!activeComponentId && <span className={`${styles.LabelSelectComponent}`}>{t(\"Properties.select_component\")}</span>}\n    </div>\n  );\n};\n\nconst AddPropertyPanel = ({id}) => {\n  const dispatch = useDispatch();\n  const [property, setProperty] = useState(\"property\");\n  const [value, setValue] = useState(\"value\");\n\n  const addProperty = () => {\n    dispatch(actions.component.addStyle(id, property, value))\n  }\n\n  return (\n    <div className={`${styles.PropertyAdder}`}>\n      <input value={property} onChange={(e) => setProperty(e.target.value)} />\n      <input value={value} onChange={(e) => setValue(e.target.value)} />\n      <button onClick={addProperty}><FaPlusCircle/></button>\n    </div>\n  );\n}\n\nexport default Properties;","import React, { useMemo } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport actions from '../actions';\nimport {buildEventHandlerWrapper, noop} from '../misc/utils';\nimport styles from './Tree.module.scss';\n\nconst Tree = () => {\n  const dispatch = useDispatch();\n  const tree = useSelector(state => state.components);\n  const { root, active, states } = tree;\n\n  const renderSubcomponents = (id) => {\n    return (\n      <div className={`${styles.Subcomponents}`}>\n        {states[id].params.ids.map((subId) => {\n          return renderComponent(subId);\n        })}\n      </div>\n    );\n  };\n\n  const renderComponent = (id) => {\n    const compoDesc = states[id];\n\n    const onClick = () => {\n      const editComponent = () => dispatch(actions.component.editComponent(id));\n      return buildEventHandlerWrapper(editComponent);\n    };\n  \n    return (\n      <div className={`${styles.Component}`} onClick={onClick()}>\n        <span className={active === id ? `${styles.active}` : \"\"}>{id}</span>\n        {compoDesc.params.ids && renderSubcomponents(id)}\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${styles.Tree}`}>\n      {renderComponent(root)}\n    </div>\n  );\n};\n\nexport default Tree;\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch } from 'react-redux';\nimport { FaHamburger, FaSave, FaFolderOpen, FaFile } from 'react-icons/fa';\nimport Properties from './Properties';\nimport Tree from './Tree';\nimport actions from '../actions';\nimport commonStyle from './common.module.scss';\nimport styles from './ControlPanel.module.scss';\n\nconst Row = ({children}) => {\n  return (\n    <div className={`${styles.Row}`}>\n      {children}\n    </div>\n  );\n};\n\nconst Group = ({title = null, children}) => {\n  return (\n    <div className={`${styles.Group}`}>\n      {title && <div className={`${styles.GroupTitle}`}>{title}</div>}\n      <div className={`${styles.GroupContent}`}>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nconst Item = ({children}) => {\n  return (\n    <div className={`${styles.Item}`}>\n      {children}\n    </div>\n  );\n};\n\nconst SaveButton = () => {\n  const dispatch = useDispatch();\n\n  const onClick = () => {\n    dispatch(actions.component.save());\n  };\n\n  return (\n    <div className={`${styles.Button}`} onClick={onClick}>\n      <FaSave />\n    </div>\n  );\n};\n\nconst OpenButton = () => {\n  const dispatch = useDispatch();\n\n  const onClick = () => {\n    dispatch(actions.component.load());\n  };\n\n  return (\n    <div className={`${styles.Button}`} onClick={onClick}>\n      <FaFolderOpen />\n    </div>\n  );\n};\n\nconst NewButton = () => {\n  const dispatch = useDispatch();\n\n  const onClick = () => {\n    dispatch(actions.component.reset());\n  };\n\n  return (\n    <div className={`${styles.Button}`} onClick={onClick}>\n      <FaFile />\n    </div>\n  );\n};\n\nconst ControlPanel = () => {\n  const { t } = useTranslation();\n  const [showBar, setShowBar] = useState(true);\n\n  return (\n    <div className={`${styles.ControlPanel}`}>\n      <div className={`${commonStyle.toolbar_button} ${showBar ? commonStyle.rotate : \"\"} ${styles.hamburger_button}`}><FaHamburger onClick={() => setShowBar(!showBar)} /></div>\n      {showBar &&\n        <>\n          <Row>\n            <Group>\n              <Item><NewButton/></Item>\n            </Group>\n            <Group title=\"file\">\n              <Item><SaveButton/></Item>\n              <Item><OpenButton/></Item>\n            </Group>\n          </Row>\n\n          <Row>\n            <Group>\n              <Properties />\n            </Group>\n          </Row>\n\n          <Row>\n            <Group>\n              <Tree />\n            </Group>\n          </Row>\n        </>}\n    </div>\n  );\n};\n\nexport default ControlPanel;\n","import React, {useState, useLayoutEffect, useMemo} from 'react';\nimport {useDispatch} from 'react-redux';\nimport {getComponentForName, getEditorForName} from './registry';\nimport {buildEventHandlerWrapper, noop} from '../misc/utils';\nimport actions from '../actions';\n\nconst EditorFrame = ({component: name, id, active, style, dropTarget, ...rest}) => {\n  const dispatch = useDispatch();\n  const component = active ? (getEditorForName(name) || getComponentForName(name)) : getComponentForName(name);\n  const [componentEl, setComponentEl] = useState(null);\n\n  useLayoutEffect(() => {\n    if (active) {\n      dispatch(actions.component.setOverlayTarget(componentEl));\n    }\n  }, [componentEl, dispatch, active]);\n\n  const onClick = useMemo(() => {\n    if (active) {\n      return buildEventHandlerWrapper(noop);\n    }\n    else {\n      const editComponent = () => dispatch(actions.component.editComponent(id));\n      return buildEventHandlerWrapper(editComponent);\n    }\n  }, [active, id, dispatch]);\n\n  const setRef = (e) => setComponentEl(e);\n\n  const onDragOver = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    dispatch(actions.component.dragOver(id));\n  };\n  \n  const onDrop = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    dispatch(actions.component.drop(id));\n  }\n  \n  let newStyle = {...style};\n\n  if (dropTarget) {\n    newStyle.background = 'rgba(255, 157, 100, 0.5)';\n  }\n\n  return React.createElement(component, {...rest, style: newStyle, active: active, id: id, onClick: onClick, onDragOver: onDragOver, onDrop: onDrop, ref: setRef});\n};\n\nexport default EditorFrame;\n","import React, {useLayoutEffect, useState, useEffect} from 'react';\nimport {useDispatch} from 'react-redux';\nimport actions from '../actions';\nimport styles from './Overlay.module.scss';\n\nconst Overlay = ({element, refElement, children}) => {\n  const dispatch = useDispatch();\n  const position = useDOMRect(element);\n  const refPosition = useDOMRect(refElement, false);\n  const [style, setStyle] = useState({});\n\n  useEffect(() => {\n    if (!position || !refPosition) {\n      return;\n    }\n\n    setStyle((style) => {\n      const newStyle = {...style,\n        left: position.left - refPosition.left,\n        top: position.top - refPosition.top,\n        minWidth: position.width,\n        minHeight: position.height\n      };\n      return newStyle;\n    });\n\n  }, [position, refPosition]);\n\n  const startDrag = () => {\n    dispatch(actions.component.startDrag())\n  }\n  \n  return (\n    <div draggable onDragStart={startDrag} className={`${styles.Overlay} ${styles.edit}`} style={style}>\n      <div className={`${styles.OverlayHeader}`} />\n      <div className={`${styles.OverlayContent}`}>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nfunction parseMetricProp(value, suffix = \"px\") {\n  return parseInt(value.substring(0, value.length - suffix.length));\n}\n\nconst useDOMRect = (element, withMargin = true) => {\n  const [rect, setRect] = useState(null);\n\n  useLayoutEffect(() => {\n    if (!element) {\n      return;\n    }\n\n    const refElementRectList = element.getClientRects();\n    const refElementRect = refElementRectList && refElementRectList[0];\n    if (!refElementRect) {\n      return;\n    }\n\n    const overlayRect = withMargin ? adjustRectWithMargin(refElementRect, element) : refElementRect;\n    setRect(overlayRect);\n\n    const refresherId = setInterval(() => {\n      const newRectList = element.getClientRects();\n      const newRect = newRectList && newRectList[0];\n\n      setRect((oldRect) => {\n        const overlayRect = withMargin ? adjustRectWithMargin(newRect, element) : newRect;\n        const areSameRect = identicalRect(oldRect, overlayRect);\n        return areSameRect ? oldRect : overlayRect;\n      });\n    }, REFRESH_DELAY_MS);\n\n    return () => {\n      clearInterval(refresherId);\n    };\n\n  }, [element, withMargin]);\n\n  return rect;\n};\n\nconst REFRESH_DELAY_MS = 300;\n\nfunction adjustRectWithMargin(rect, element) {\n  const style = window.getComputedStyle(element);\n  const mt = parseMetricProp(style.getPropertyValue('margin-top'));\n  const ml = parseMetricProp(style.getPropertyValue('margin-left'));\n  const mb = parseMetricProp(style.getPropertyValue('margin-bottom'));\n  const mr = parseMetricProp(style.getPropertyValue('margin-right'));\n\n  return (\n    {\n      left: rect.left - ml,\n      top: rect.top - mt,\n      width: rect.width + ml + mr,\n      height: rect.height + mt + mb\n    }\n  );\n}\n\nconst identicalRect = (r1, r2) => {\n  if (!r1 || !r2) return false;\n\n  // Compare only used properties\n  return (\n    r1.top === r2.top && \n    r1.left === r2.left && \n    r1.width === r2.width && \n    r1.height === r2.height \n  );\n}\n\nexport default Overlay;\n","import React, {useState} from 'react';\nimport {FaHamburger} from 'react-icons/fa';\nimport {getControlsForName} from './registry';\nimport styles from './Toolbar.module.scss';\nimport commonStyle from './common.module.scss';\n\nconst Toolbar = ({component: name, id}) => {\n  const [showBar, setShowBar] = useState(true);\n  const controls = getControlsForName(name);\n\n  const renderTools = () =>\n    controls.map((c, idx) =>\n      <div className={`${styles.tool}`} key={idx}>\n        {React.createElement(c, {id})}\n      </div>);\n\n  return (\n    <div className={`${styles.Toolbar}`}>\n      <div className={`${commonStyle.toolbar_button} ${showBar ? commonStyle.rotate : \"\"}`}><FaHamburger onClick={() => setShowBar(!showBar)} /></div>\n      <div className={`${styles.controls} ${showBar ? styles.unfold : styles.fold}`}>\n        {renderTools()}\n      </div>\n    </div>\n  );\n};\n\nexport default Toolbar;\n","import React, {useState, useEffect} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {getOnsitePropsForName} from './registry';\nimport ControlPanel from './ControlPanel';\nimport EditorFrame from './EditorFrame';\nimport Overlay from './Overlay';\nimport Toolbar from './Toolbar';\nimport styles from './Components.module.scss';\nimport actions from '../actions';\n\nconst ComponentOnsiteEditor = ({refElement}) => {\n  const dispatch = useDispatch();\n  const element = useSelector((state) => state.components.element);\n  const active = useSelector((state) => state.components.active);\n  const component = useSelector((state) => state.components.states[state.components.active]);\n\n  const renderOnSiteEditors = () => {\n    const clazz = component.component;\n    const onsite = getOnsitePropsForName(clazz) || [];\n  \n    return onsite.map(([param, type], idx) => {\n      return (\n        <TextInputField key={idx} url={component.params[param]} handleChangeFn={(text) => {\n          dispatch(actions.component.setParamValue(active, param, text));\n        }}/>\n      );\n    });\n  };\n\n  return (\n    element && component\n      ? <Overlay element={element} refElement={refElement}>\n          {renderOnSiteEditors()}\n        </Overlay>\n      : null\n  )\n};\n\nconst ComponentToolbar = () => {\n  const active = useSelector((state) => state.components.active);\n  const component = useSelector((state) => state.components.states[state.components.active]);\n\n  return (\n    active && component ? <Toolbar component={component.component} id={active} /> : null\n  );\n};\n\nconst Components = () => {\n  const stateComponentsRoot = useSelector((state) => state.components.root);\n  const stateComponentsStatesRoot = useSelector((state) => state.components.states[state.components.root]);\n  const [componentEl, setComponentEl] = useState(null);\n\n  const setRef = (e) => setComponentEl(e);\n\n  return (\n    <div className={styles.Editor}>\n      <div className={styles.Header}>\n        <ComponentToolbar />\n      </div>\n      <div className={styles.Components} ref={setRef}>\n        <ComponentOnsiteEditor refElement={componentEl} />\n        {stateComponentsStatesRoot && <EditorFrame key={stateComponentsRoot} id={stateComponentsRoot} {...stateComponentsStatesRoot} />}\n      </div>\n      <ControlPanel />\n    </div>\n  );\n};\n\nconst TextInputField = ({url, handleChangeFn}) => {\n  const [text, setText] = useState(url);\n\n  useEffect(() => {\n    setText(url);\n  }, [url]);\n\n  const handleChange = (event) => setText(event.target.value)\n\n  const handleKeyDown = (event) => {\n    const code = event.keyCode;\n    if (code === 13) {\n      event.preventDefault();\n      handleChangeFn(text);\n    }\n  }\n\n  const style = {\n    border: '1px dashed',\n    borderRadius: '0',\n    outline: 'none',\n    padding: '10px',\n    pointerEvents: 'all',\n    zIndex: 2\n  };\n\n  return (\n    <input style={style} type=\"text\" value={text} onChange={handleChange} onKeyDown={handleKeyDown} />\n  );\n}\n\nexport default Components;\n","import React from 'react';\nimport { useDispatch } from \"react-redux\";\nimport { registerComponent } from './registry';\nimport actions from '../actions';\n\nconst Text = React.forwardRef(({id, params, ...rest}, ref) => {\n  return (\n    <div {...rest} ref={ref}>\n      {params.text}\n    </div>\n  );\n});\n\nconst TextEditor = React.forwardRef(({id, params, ...rest}, ref) => {\n  const dispatch = useDispatch();\n\n  const updateText = (text) => {\n    text =\n      text\n        .replace(/<div[^/]*>/g, \"\\n\")\n        .replace(/<div[^/]*\\/>/g, \"\\n\")\n        .replace(/<br>/g, \"\\n\")\n        .replace(/<\\/div>/g, \"\")\n        .replace(/<\\/div>/g, \"\")\n        .replace(/<\\w*\\s*.*>/g, \"\")\n        .replace(/&lt;/g, '<')\n        .replace(/&gt;/g, '>')\n        .replace(/&amp;/g, '&')\n    dispatch(actions.component.setParamValue(id, 'text', text));\n  }\n\n  return (\n    <div contentEditable=\"true\" suppressContentEditableWarning=\"true\" id={id} onBlur={(e)=>{updateText(e.currentTarget.innerHTML)}} ref={ref} {...rest}>\n      {params.text}\n    </div>\n  );\n});\n\nregisterComponent({\n  name: 'text',\n  component: Text,\n  editor: TextEditor,\n  default: {\n    component: 'text',\n    params: {\n      text: ' ++++++ '\n    },\n    style: {}\n  }\n});\n\nexport default Text;\n","import React from 'react';\nimport { registerComponent } from './registry';\n\nconst Image = React.forwardRef(({params, ...rest}, ref) => {\n  return (\n    <img src={`${params.url}`} alt=\"img\" ref={ref} {...rest} />\n  );\n});\n\nregisterComponent({\n  name: 'image',\n  component: Image,\n  onsite: [\n    ['url', 'text']\n  ],\n  default: {\n    component: 'image',\n    params: {\n      url: 'https://picsum.photos/id/249/200/300'\n    },\n    style: {}\n  }\n});\n\nexport default Image;\n","import React, {useState} from 'react';\nimport {useDispatch} from 'react-redux';\nimport {useTranslation} from 'react-i18next';\nimport {FaStepBackward, FaStepForward} from 'react-icons/fa';\nimport {getComponentNameList} from '../registry';\nimport actions from '../../actions';\nimport styles from '../common.module.scss';\n\nconst TypeSelector = ({chooseComponent})  => {\n  const {t} = useTranslation();\n  return (\n    <select onChange={(e) => chooseComponent(e.target.value)}>\n      <option value=\"\">{t('Adder.choose_a_component')}</option>\n      {getComponentNameList().map((name, idx) => <option key={idx} value={name}>{name}</option>)}\n    </select>\n  );\n}\n\nconst ChildAdder = ({id}) => {\n  const {t} = useTranslation();\n  const dispatch = useDispatch();\n  const [componentName, setComponentName] = useState('');\n  const chooseComponent = (name) => {\n    setComponentName(name);\n  }\n\n  const isValidComponent = () => componentName !== '';\n\n  const prependComponent = () => dispatch(actions.component.prependComponent(id, componentName));\n  const appendComponent = () => dispatch(actions.component.appendComponent(id, componentName));\n\n  return (\n    <div className={`${styles.toolbar_button_section}`}>\n      <div className={`${styles.toolbar_button_section_title}`}>{t('Adder.add')}</div>\n      <div className={`${styles.toolbar_button_group}`}>\n        <div className={`${styles.toolbar_button} ${isValidComponent() ? '' : styles.inactive}`} onClick={isValidComponent() ? prependComponent : undefined}>\n          <FaStepBackward />\n        </div>\n        <div className={`${styles.toolbar_button}`}>\n          <TypeSelector chooseComponent={chooseComponent} />\n        </div>\n        <div className={`${styles.toolbar_button} ${isValidComponent() ? '' : styles.inactive}`} onClick={isValidComponent() ? appendComponent : undefined}>\n        <FaStepForward />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChildAdder;","import React from 'react';\nimport {useSelector} from \"react-redux\";\nimport {registerComponent} from './registry';\nimport EditorFrame from './EditorFrame';\nimport ChildAdder from './controls/ChildAdder';\n\nconst Subcomponent = ({id}) => {\n  const props = useSelector((state) => state.components.states[id]);\n\n  return (\n    <EditorFrame id={id} {...props} />\n  );\n};\n\nconst renderSubcomponents = (ids) => {\n  return ids.map((id) => {\n    return <Subcomponent key={id} id={id} />\n  })\n}\n\nconst Layout = React.forwardRef(({params, ...rest}, ref) => {\n  return (\n    <div ref={ref} {...rest}>\n      {renderSubcomponents(params.ids)}\n    </div>\n  );\n});\n\nregisterComponent({\n  name: 'layout',\n  component: Layout,\n  controls: [ChildAdder],\n  default: {\n    component: 'layout',\n    params: {\n      ids: []\n    },\n    style: {\n      alignItems: 'center',\n      display: 'flex',\n      flexDirection: 'column'\n    }\n  }\n});\n\nexport default Layout;\n","import React, { useEffect, useState, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { registerComponent } from './registry';\nimport styles from './YoutubeVideo.module.scss';\n\nconst YOUTUBE_SRC = \"https://www.youtube.com/iframe_api\";\n\nconst Youtube = React.forwardRef(({params, onClick, onDragOver, onDrop, style, active, ...rest}, ref) => {\n  const { t } = useTranslation();\n  const isDragging = useSelector((state) => state.components.dragging);\n  const [sdkReady, setSdkReady] = useState(false);\n  const playerRef = useRef();\n  // let player = null;\n\n  useEffect(() => {\n    if (document.querySelector(`script[src=\"${YOUTUBE_SRC}\"]`)) {\n      setSdkReady(true);\n      return;\n    }\n\n    window.onYouTubeIframeAPIReady = () => {\n      setSdkReady(true);\n    };\n\n    const youtubeScript = document.createElement(\"script\");\n    youtubeScript.src = YOUTUBE_SRC;\n    document.head.appendChild(youtubeScript);\n  }, [setSdkReady]);\n\n  useEffect(() => {\n    if (!sdkReady) {\n      return;\n    }\n\n    // Currently this code is useEffect hook is useless, but it could be the place to take\n    // actions after the YT sdk is loaded.\n    //\n    // e.g.\n    // \n    // player = new window.YT.Player(playerRef.current);\n    // player.addEventListener(\"onStateChange\", (event) => {\n    //   console.log('EVENT CODE', event.data);\n    // });\n  }, [sdkReady, playerRef]);\n\n  const containerStyle = {\n    position: 'relative'\n  }\n\n  const iframeStyle = {\n    ...style,\n    pointerEvents: (isDragging || active) ? 'none' : 'initial'\n  }\n\n  return (\n    <div ref={ref} style={containerStyle} {...rest}>\n      {!active && <div className={`${styles.EditBar}`} onClick={onClick} onDragOver={onDragOver} onDrop={onDrop}>{t('YoutubeVideo.click_to_edit')}</div>}\n      <iframe style={iframeStyle} ref={playerRef} title=\"y\" src={`https://www.youtube.com/embed/${params.code}?controls=0&enablejsapi=1`} frameBorder=\"0\" allow={`accelerometer; ${params.autoplay ? \"autoplay\" : \"\"}; encrypted-media; gyroscope; picture-in-picture`} allowFullScreen></iframe>\n    </div>\n  );\n});\n\nregisterComponent({\n  name: 'youtube',\n  component: Youtube,\n  onsite: [\n    ['code', 'text']\n  ],\n  default: {\n    component: 'youtube',\n    params: {\n      code: '4OkSsFsXLD8',\n      autoplay: false\n    },\n    style: {}\n  }\n});\n\nexport default Youtube;\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch } from \"react-redux\";\nimport actions from '../actions';\nimport styles from \"./App.module.scss\";\nimport Components from './Components';\n\nimport './Text';\nimport './Image';\nimport './Layout';\nimport './YoutubeVideo';\n\nconst LangButton = ({lang}) => {\n  const dispatch = useDispatch();\n\n  return (\n    <div onClick={() => dispatch(actions.lang.setLang(lang))}>\n      {lang}\n    </div>\n  );\n}\n\nconst LangSelector = () => {\n  const langs = ['fr', 'en'];\n  const renderLangButtons = () => {\n    return langs.map((lang) => <LangButton lang={lang} />)\n  };\n\n  return (\n    <div>\n      {renderLangButtons()}\n    </div>\n  );\n}\n\nfunction App() {\n  const lang = useSelector((state) => state.lang);\n  const { i18n } = useTranslation();\n\n  useEffect(() => {\n    i18n.changeLanguage(lang);\n  }, [i18n, lang]);\n\n  return (\n    <div className={styles.App}>\n      {/*<LangSelector />*/}\n      <Components />\n    </div>\n  );\n}\n\nexport default App;\n","import { v4 as uuidv4 } from 'uuid';\nimport Actions from '../actions/componentActions';\nimport { getDefaultParamsForName } from '../components/registry';\nimport { createReducer } from '../misc/reduxtils';\nimport HARDCODED_SAVED_DATA from './movies';\n\nconst id1 = uuidv4();\n\nconst INITIAL_STATE = {\n  active: null,\n  element: null,\n  root: id1,\n  states: {\n    [id1]: {active: false, component: 'layout', params: {ids: []}, style: {display: 'flex', flexDirection: 'column', padding: '1em'}},\n  },\n  dropTargetId: null,\n  dragging: false\n};\n\nexport default createReducer(INITIAL_STATE, {\n  [Actions.reset]: (_state, _action) => {\n    return INITIAL_STATE;\n  },\n\n  [Actions.load]: (_state, _action) => {\n    const savedState = localStorage.getItem('component_editor');\n    const dataToLoad = savedState || HARDCODED_SAVED_DATA;\n    return JSON.parse(dataToLoad);\n  },\n\n  [Actions.save]: (state, _action) => {\n    const {element: _drop, ...storableState} = state; // element is a DOM reference. Don't try to save it !\n    localStorage.setItem('component_editor', JSON.stringify(storableState));\n    return state;\n  },\n\n  [Actions.editComponent]: (state, action) => {\n    const id = action.id;\n    let newStates = {...state.states};\n\n    const oldId = state.active;\n    if (oldId) {\n      const oldComponentState = state.states[oldId];\n      newStates[oldId] = {...oldComponentState, active: false};\n    }\n\n    const oldComponentState = state.states[id];\n    newStates[id] = {...oldComponentState, active: true};\n\n    return {...state, active: id, states: newStates};\n  },\n\n  [Actions.cancelEdition]: (state, _action) => {\n    const id = state.active;\n    if (id) {\n      let newStates = {...state.states};\n      const oldComponentState = state.states[id];\n      newStates[id] = {...oldComponentState, active: false};\n      return {...state, active: null, element: null, states: newStates};\n    }\n    else {\n      return {...state, active: null, element: null};\n    }\n  },\n\n  [Actions.setParamValue]: (state, action) => {\n    const id = action.id\n    const newStates = {...state.states};\n\n    const oldComponentState = state.states[id];\n    newStates[id] = {...oldComponentState, params: {...oldComponentState.params, [action.payload.param]: action.payload.value}};\n\n    return {...state, states: newStates};\n  },\n\n  [Actions.setStyleValue]: (state, action) => {\n    const id = action.id\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n    const params = action.payload.params;\n    const oldStyle = newStates[id].style;\n    const newStyle = {...oldStyle, [params.property]: params.value};\n\n    newStates[id] = {\n      ...newStates[id],\n      style: newStyle\n    }\n    return newState;\n  },\n\n  [Actions.addStyle]: (state, action) => {\n    const id = action.id\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n    const params = action.payload.params;\n    const oldStyle = newStates[id].style;\n    const newStyle = {...oldStyle, [params.property]: params.value};\n\n    newStates[id] = {\n      ...newStates[id],\n      style: newStyle\n    }\n    return newState;\n  },\n\n  [Actions.deleteStyle]: (state, action) => {\n    const id = action.id\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n    const params = action.payload.params;\n    const oldStyle = newStates[id].style;\n    const {[params.property]: _, ...newStyle} = oldStyle;\n\n    newStates[id] = {\n      ...newStates[id],\n      style: newStyle\n    }\n    return newState;\n  },\n\n  [Actions.appendComponent]: (state, action) => {\n    const id = action.id\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n    const params = action.payload.params;\n    const targetComponentType = (state.states[id] && state.states[id].component)|| \"\";\n    if (targetComponentType !== 'layout') {\n      return state;\n    }\n\n    const newComponentId = uuidv4();\n    newStates[newComponentId] = {parent: id, active: false, ...getDefaultParamsForName(params.name)};\n\n    const newIds = [...newStates[id].params.ids, newComponentId];\n    newStates[id] = {\n      ...newStates[id],\n      params: {ids: newIds}\n    }\n\n    return newState;\n  },\n\n  [Actions.prependComponent]: (state, action) => {\n    const id = action.id\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n    const params = action.payload.params;\n    const targetComponentType = (state.states[id] && state.states[id].component)|| \"\";\n    if (targetComponentType !== 'layout') {\n      return state;\n    }\n\n    const newComponentId = uuidv4();\n    newStates[newComponentId] = {parent: id, active: false, ...getDefaultParamsForName(params.name)};\n\n    const newIds = [newComponentId, ...newStates[id].params.ids];\n    newStates[id] = {\n      ...newStates[id],\n      params: {ids: newIds}\n    }\n\n    return newState;\n  },\n\n  [Actions.deleteComponent]: (state, action) => {\n    const id = action.id\n    if (id === state.root) {\n      return state;\n    }\n\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n\n    if (id === newState.active) {\n      newState.active = null;\n    }\n\n    delete newStates[id];\n\n    Object.keys(newStates).forEach((k) => {\n      const componentState = newStates[k];\n      if (componentState.params.ids !== undefined) {\n        const ids = componentState.params.ids\n        const idx = ids.indexOf(id)\n        if (idx > -1) {\n          const newIds = [...ids.slice(0, idx), ...ids.slice(idx+1)];\n          newStates[k] = {...newStates[k], params: {...newStates[k].params, ids: newIds}};\n        }\n      }\n    })\n\n    let hasOrphans = true;\n    while (hasOrphans) {\n      hasOrphans = Object.keys(newStates).reduce((accIn, k) => {\n        const componentState = newStates[k];\n        if (k !== state.root && !newStates[componentState.parent]) {\n          delete newStates[k];\n          return true;\n        }\n        return accIn;\n      }, false);\n    }\n\n    return newState;\n  },\n\n  [Actions.navigatePrev]: (state, _action) => {\n    const currentId = state.active\n    const currentState = state.states[currentId];\n    const parentId = currentState.parent;\n    if (!parentId) {\n      return state;\n    }\n\n    const parent = state.states[parentId];\n    const ids = parent.params.ids;\n    const idx = ids.indexOf(currentId);\n    if (idx === 0) {\n      return state;\n    }\n\n    let targetId = ids[idx-1];\n    let newStates = {...state.states};\n\n    if (currentId) {\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, active: false};\n    }\n\n    const oldComponentState = state.states[targetId];\n    newStates[targetId] = {...oldComponentState, active: true};\n\n    return {...state, active: targetId, states: newStates};\n  },\n\n  [Actions.navigateNext]: (state, action) => {\n    const currentId = state.active\n    const currentState = state.states[currentId];\n    const parentId = currentState.parent;\n    if (!parentId) {\n      return state;\n    }\n\n    const parent = state.states[parentId];\n    const ids = parent.params.ids;\n    const idx = ids.indexOf(currentId);\n    if (idx === ids.length-1) {\n      return state;\n    }\n\n    let targetId = ids[idx+1];\n    let newStates = {...state.states};\n\n    if (currentId) {\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, active: false};\n    }\n\n    const oldComponentState = state.states[targetId];\n    newStates[targetId] = {...oldComponentState, active: true};\n\n    return {...state, active: targetId, states: newStates};\n  },\n\n  [Actions.navigateUp]: (state, action) => {\n    const currentId = action.id\n    const currentState = state.states[currentId];\n    const parentId = currentState.parent;\n    if (!parentId) {\n      return state;\n    }\n\n    let targetId = parentId;\n    let newStates = {...state.states};\n\n    if (currentId) {\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, active: false};\n    }\n\n    const oldComponentState = state.states[targetId];\n    newStates[targetId] = {...oldComponentState, active: true};\n\n    return {...state, active: targetId, states: newStates};\n  },\n\n  [Actions.navigateDown]: (state, action) => {\n    const currentId = action.id;\n    const currentState = state.states[currentId];\n    if (!currentState.params.ids || currentState.params.ids.length === 0) {\n      return state;\n    }\n\n    let targetId = currentState.params.ids[0];\n    let newStates = {...state.states};\n\n    if (currentId) {\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, active: false};\n    }\n\n    const oldComponentState = state.states[targetId];\n    newStates[targetId] = {...oldComponentState, active: true};\n\n    return {...state, active: targetId, states: newStates};\n  },\n\n  [Actions.setOverlayTarget]: (state, action) => {\n    return {...state, element: action.target};\n  },\n\n  [Actions.startDrag]: (state, _action) => {\n    return {...state, dragging: true};\n  },\n\n  [Actions.dragOver]: (state, action) => {\n    if (action.id === state.dropTargetId) {\n      // Drop target stays the same, do nothing\n      return state;\n    }\n\n    let currentId = state.dropTargetId;\n    let targetId = action.id;\n    let newStates = {...state.states};\n\n    // Cannot drop inside it-self, or in a child element\n    let canDrop = true;\n    let testDropId = targetId;\n    while (canDrop && testDropId) {\n      if (testDropId === state.active) {\n        canDrop = false;\n        break;\n      }\n      testDropId = state.states[testDropId].parent;\n    }\n\n    if (!canDrop) {\n      if (! currentId) {\n        return state; // No current drop target, just leave\n      }\n\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, dropTarget: false};\n      return {...state, dropTargetId: null, states: newStates};\n    }\n\n    if (currentId) {\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, dropTarget: false};\n    }\n\n    const oldComponentState = state.states[targetId];\n    newStates[targetId] = {...oldComponentState, dropTarget: true};\n\n    return {...state, dropTargetId: targetId, states: newStates};\n  },\n\n  [Actions.drop]: (state, _action) => {\n    let newStates = {...state.states};\n    let dropTargetId = state.dropTargetId;\n\n    if (!dropTargetId) {\n      return {...state, dropTargetId: null, dragging: false};\n    }\n\n    const oldComponentState = state.states[dropTargetId];\n    newStates[dropTargetId] = {...oldComponentState, dropTarget: false};\n\n    // Find the target's parent \n    const targetParentId = oldComponentState.parent;\n    if (!targetParentId) {\n      return {...state, dropTargetId: null, dragging: false};\n    }\n\n    const movedId = state.active;\n\n    // Remove the moved node from its parent id list\n    const movedParentId = state.states[movedId].parent;\n    if (!movedParentId) {\n      return {...state, dropTargetId: null, dragging: false};\n    }\n\n    const movedParent = state.states[movedParentId];\n    const ids = movedParent.params.ids;\n    const idx = ids.indexOf(movedId);\n    if (idx === -1) {\n      return {...state, dropTargetId: null, dragging: false};\n    }\n\n    const newIds = [...ids.slice(0, idx), ...ids.slice(idx+1)];\n    newStates[movedParentId] = {...movedParent, params: {...movedParent.params, ids: newIds}};\n\n    // Insert the moved node just before the target node in the latter parent id list\n    const targetParent = newStates[targetParentId];\n    const targetParentIds = targetParent.params.ids\n    const idx1 = targetParentIds.indexOf(dropTargetId)\n    if (idx1 === -1) {\n      return {...state, dropTargetId: null, dragging: false};\n    }\n\n    const newIds1 = [...targetParentIds.slice(0, idx1), movedId, ...targetParentIds.slice(idx1)];\n    newStates[targetParentId] = {...targetParent, params: {...targetParent.params, ids: newIds1}};\n\n    // Update moved node parent\n    const moved = state.states[movedId];\n    newStates[movedId] = {...moved, parent: targetParentId};\n\n    return {...state, dropTargetId: null, states: newStates, dragging: false};\n  }\n});\n","export default '{\"active\":null,\"root\":\"b5d02377-f7d7-469e-b92d-8bf78522a76f\",\"states\":{\"95c6fe16-dc65-4eec-88b8-d08e6907813f\":{\"active\":false,\"component\":\"text\",\"parent\":\"b5d02377-f7d7-469e-b92d-8bf78522a76f\",\"params\":{\"text\":\"hello \\\\n world!\"},\"style\":{\"whiteSpace\":\"pre-wrap\"}},\"2cd9ba51-86da-4acf-95e9-de7c283d66f7\":{\"active\":false,\"component\":\"image\",\"parent\":\"2bbf5ea0-e94a-4429-82d8-f1235ef4fbfe\",\"params\":{\"url\":\"https://picsum.photos/id/249/200/300\"},\"style\":{}},\"84d6ce19-dd60-43ee-b0a7-bda90b96b7d0\":{\"active\":false,\"component\":\"text\",\"parent\":\"2bbf5ea0-e94a-4429-82d8-f1235ef4fbfe\",\"params\":{\"text\":\"Under the bridge\"},\"style\":{\"whiteSpace\":\"pre-wrap\",\"fontSize\":\"20px\"}},\"2bbf5ea0-e94a-4429-82d8-f1235ef4fbfe\":{\"active\":false,\"component\":\"layout\",\"parent\":\"b5d02377-f7d7-469e-b92d-8bf78522a76f\",\"params\":{\"ids\":[\"2cd9ba51-86da-4acf-95e9-de7c283d66f7\",\"84d6ce19-dd60-43ee-b0a7-bda90b96b7d0\"]},\"style\":{\"flexDirection\":\"column\"}},\"b5d02377-f7d7-469e-b92d-8bf78522a76f\":{\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"1153d338-428d-4400-8d1c-d8a1d272eb17\",\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"2bbf5ea0-e94a-4429-82d8-f1235ef4fbfe\",\"95c6fe16-dc65-4eec-88b8-d08e6907813f\"]},\"style\":{\"flexDirection\":\"column\",\"display\":\"flex\",\"--panelShadow\":\"8px 8px 16px #6e6457\",\"maxWidth\":\"100%\"}},\"800b3628-fe62-4e14-90e0-2ac4f7e50234\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"c4ef5937-4ba0-43d0-bc94-551adb4f2638\"]},\"style\":{\"alignItems\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"padding\":\"1em\",\"boxShadow\":\"var(--panelShadow)\",\"marginRight\":\"1em\"}},\"936f047f-45bf-4804-a638-8678f1f997cd\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"c991db7b-95a5-43fa-a98a-2de1ca57f01c\"]},\"style\":{\"alignItems\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"padding\":\"1em\",\"boxShadow\":\"var(--panelShadow)\",\"marginRight\":\"1em\"},\"dropTarget\":false},\"c991db7b-95a5-43fa-a98a-2de1ca57f01c\":{\"parent\":\"936f047f-45bf-4804-a638-8678f1f997cd\",\"active\":false,\"component\":\"image\",\"params\":{\"url\":\"https://m.media-amazon.com/images/M/MV5BZWIxNzM5YzQtY2FmMS00Yjc3LWI1ZjUtNGVjMjMzZTIxZTIxXkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_SY1000_CR0,0,671,1000_AL_.jpg\"},\"style\":{}},\"c4ef5937-4ba0-43d0-bc94-551adb4f2638\":{\"parent\":\"800b3628-fe62-4e14-90e0-2ac4f7e50234\",\"active\":false,\"component\":\"image\",\"params\":{\"url\":\"https://m.media-amazon.com/images/M/MV5BZjRlNDUxZjAtOGQ4OC00OTNlLTgxNmQtYTBmMDgwZmNmNjkxXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SY1000_CR0,0,666,1000_AL_.jpg\"},\"style\":{}},\"e0c27bec-0e90-4422-869a-76740471165f\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"432c5067-4b29-4e2f-b5da-4510bee3f225\"]},\"style\":{\"alignItems\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"padding\":\"1em\",\"boxShadow\":\"var(--panelShadow)\",\"marginRight\":\"1em\"},\"dropTarget\":false},\"432c5067-4b29-4e2f-b5da-4510bee3f225\":{\"parent\":\"e0c27bec-0e90-4422-869a-76740471165f\",\"active\":false,\"component\":\"image\",\"params\":{\"url\":\"https://m.media-amazon.com/images/M/MV5BMjM1NjE5NjQxN15BMl5BanBnXkFtZTgwMjYzMzQxMDE@._V1_.jpg\"},\"style\":{}},\"1153d338-428d-4400-8d1c-d8a1d272eb17\":{\"parent\":\"b5d02377-f7d7-469e-b92d-8bf78522a76f\",\"active\":false,\"component\":\"text\",\"params\":{\"text\":\"Movies Hall of Fame\"},\"style\":{\"fontSize\":\"3em\"},\"dropTarget\":false},\"70f95df6-f794-4738-be59-9a6b0d8645b6\":{\"parent\":\"b5d02377-f7d7-469e-b92d-8bf78522a76f\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"800b3628-fe62-4e14-90e0-2ac4f7e50234\",\"936f047f-45bf-4804-a638-8678f1f997cd\",\"e0c27bec-0e90-4422-869a-76740471165f\",\"8cdc9fe2-4a32-4476-9926-b6fb289eb897\",\"7c02f15c-78dd-4fb7-aa12-7c27968fe6d1\"]},\"style\":{\"alignItems\":\"center\",\"display\":\"flex\",\"flexDirection\":\"row\",\"paddingTop\":\"1em\",\"maxWidth\":\"100%\",\"overflow\":\"scroll\"},\"dropTarget\":false},\"7c02f15c-78dd-4fb7-aa12-7c27968fe6d1\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"text\",\"params\":{\"text\":\" ...\"},\"style\":{\"padding\":\"1em\"},\"dropTarget\":false},\"8cdc9fe2-4a32-4476-9926-b6fb289eb897\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"313d10e7-3896-400c-badb-7a594f0390d4\"]},\"style\":{\"alignItems\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"marginRight\":\"1em\",\"boxShadow\":\"var(--panelShadow)\",\"padding\":\"1em\"}},\"313d10e7-3896-400c-badb-7a594f0390d4\":{\"parent\":\"8cdc9fe2-4a32-4476-9926-b6fb289eb897\",\"active\":false,\"component\":\"image\",\"params\":{\"url\":\"https://m.media-amazon.com/images/M/MV5BNzhlMTRlYmMtYjliYy00OTMzLWJlN2ItYmYyNjc4YzBjM2QwXkEyXkFqcGdeQXVyNjA0Mzc0MzI@._V1_SY1000_CR0,0,742,1000_AL_.jpg\"},\"style\":{}}},\"dropTargetId\":null}';\n","import { SET_LANG } from '../constants/action-types';\n\nconst INITIAL_STATE = 'fr';\n\nfunction langReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case SET_LANG:\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\n\nexport default langReducer;\n","import * as Actions from '../constants/action-types';\n\nconst INITIAL_STATE = null;\n\nfunction editorReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    default:\n      return state;\n  }\n};\n\nexport default editorReducer;\n","import { combineReducers } from 'redux';\nimport componentsReducer from './componentsReducer';\nimport langReducer from './langReducer';\nimport editorReducer from './editorReducer';\nimport { cascadeReducers } from '../misc/reduxtils';\n\nconst rootReducer = combineReducers({\n  components: componentsReducer,\n  lang: langReducer,\n  editor: editorReducer\n});\n\nconst logReducer = (state, action) => {\n  if (window.debug) {\n    console.log('action', action);\n  }\n  return state;\n};\n\nexport default cascadeReducers(logReducer, rootReducer);\n","import { createStore } from 'redux';\nimport rootReducer from \"../reducers/index\";\nimport actions from '../actions';\n\nconst store = createStore(rootReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nstore.dispatch(actions.component.load());\n\nexport default store;\n","const enTranslations = {\n  \"Editor\": {\n    \"title\": \"editor\"\n  },\n\n  \"Navigator\": {\n    \"navigate\": \"navigate\"\n  },\n\n  \"Adder\": {\n    \"add\": \"add\",\n    \"choose_a_component\": \"choose a component\"\n  },\n\n  \"YesNo\": {\n    \"yes\": \"yes\",\n    \"no\": \"no\"\n  },\n\n  \"Properties\": {\n    \"select_component\": \"pick a component\",\n    \"title\": \"properties\"\n  },\n\n  \"YoutubeVideo\": {\n    \"click_to_edit\": \"click to edit\"\n  }\n};\n\nexport default enTranslations;\n\n","const frTranslations = {\n  \"Editor\": {\n    \"title\": \"editeur\"\n  },\n\n  \"Navigator\": {\n    \"navigate\": \"naviguer\"\n  },\n\n  \"Adder\": {\n    \"add\": \"ajouter\",\n    \"choose_a_component\": \"choisissez un composant\"\n  },\n\n  \"YesNo\": {\n    \"yes\": \"oui\",\n    \"no\": \"non\"\n  },\n\n  \"Properties\": {\n    \"select_component\": \"sélectionnez un composant\",\n    \"title\": \"propriétés\"\n  },\n\n  \"YoutubeVideo\": {\n    \"click_to_edit\": \"cliquer pour éditer\"\n  }\n};\n  \nexport default frTranslations;\n\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport enTranslations from './en-translations';\nimport frTranslations from './fr-translations';\n\ni18n\n  .use(initReactI18next)\n  .init({\n    resources: {\n      en: {\n        translations: enTranslations,\n      },\n      fr: {\n        translations: frTranslations,\n      },\n    },\n    fallbackLng: 'en',\n    debug: true,\n    ns: ['translations'],\n    defaultNS: 'translations',\n    keySeparator: '.',\n    interpolation: {\n      escapeValue: false,\n    },\n  });\n\nexport default i18n;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\nimport App from './components/App';\nimport store from './store';\nimport './translations/i18n';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\nwindow.store = store;\n"],"sourceRoot":""}