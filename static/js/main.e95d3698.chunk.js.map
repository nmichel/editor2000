{"version":3,"sources":["components/ControlPanel.module.scss","components/Selector.module.scss","components/Properties.module.scss","components/Toolbar.module.scss","components/ConfirmDialog.module.scss","components/Tree.module.scss","components/Overlay.module.scss","components/controls/controls.module.scss","components/common.module.scss","components/Components.module.scss","components/App.module.scss","components/Modal.module.scss","components/YoutubeVideo.module.scss","serviceWorker.js","actions/langActions.js","constants/action-types.js","misc/reduxtils.js","actions/componentActions.js","actions/index.js","actions/editorActions.js","misc/utils.js","components/controls/Cross.js","components/controls/YesNo.js","components/controls/Delete.js","components/controls/Navigator.js","components/controls/CopyPaste.js","components/registry.js","components/Properties.js","components/Selector.js","components/ConfirmDialog.js","components/Tree.js","components/Modal.js","misc/localstorage.js","components/ControlPanel.js","components/EditorFrame.js","components/Overlay.js","components/Toolbar.js","components/Components.js","components/Text.js","components/Image.js","components/controls/ChildAdder.js","components/Layout.js","components/YoutubeVideo.js","components/App.js","reducers/componentsReducer.js","reducers/langReducer.js","reducers/editorReducer.js","reducers/index.js","store/index.js","misc/movies.js","translations/en-translations.js","translations/fr-translations.js","translations/i18n.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","setLang","lang","type","payload","createAction","name","fn","actionFn","res","arguments","toString","reset","load","filename","save","editComponent","id","cancelEdition","setParamValue","param","value","setStyleValue","property","params","setStyleState","active","addStyle","deleteStyle","appendComponent","prependComponent","deleteComponent","copyComponent","pasteComponent","navigatePrev","navigateNext","navigateUp","navigateDown","setOverlayTarget","target","startDrag","dragOver","drop","actions","langActions","component","componentActions","editor","buildEventHandlerWrapper","e","stopPropagation","noop","Cross","dispatch","useDispatch","clickEventHandler","onClick","className","commonStyle","toolbar_button","styles","icon","YesNo","onYes","onNo","t","useTranslation","yesno","toolbar_button_group","Delete","useState","showYesNo","setShowYesNo","useEffect","Navigator","toolbar_button_section","toolbar_button_section_title","CopyPaste","components","registerComponent","declaration","props","controls","rest","getRecordForName","getComponentForName","getDefaultParamsForName","default","PropertyEditor","k","v","setValue","handleOnValidate","event","key","handleOnChange","onToggle","onKeyPress","onChange","disabled","Toggle","Component","FaEye","FaEyeSlash","PropertyList","style","useSelector","state","states","Object","entries","map","AddPropertyPanel","setProperty","PropertyAdder","Properties","activeComponentId","LabelSelectComponent","SelectorListEntry","text","onSelected","isActive","ListItem","Selector","list","onSelect","onCancel","selected","setSelected","selectedId","setSelectedId","onListEntryClicked","List","item","idx","SelectFileBar","ButtonBar","Button","ConfirmDialog","onConfirm","ConfigDialog","Tree","tree","root","renderSubcomponents","Subcomponents","ids","subId","renderComponent","compoDesc","ModalContext","React","createContext","push","undefined","pop","displayName","ModalStack","children","modals","setModals","modal","prevModals","tail","Provider","length","Comp","renderModals","useStack","useContext","Store","listFilenames","filenames","localStorage","getItem","JSON","parse","loadFromFile","filecontent","saveToFile","object","console","log","mangledFilename","stringify","setItem","filenamesBucketContent","newFilenames","includes","newFilenamesBucketContent","Row","Group","title","GroupTitle","GroupContent","Item","SaveButton","saveToFilename","setSaveToFilename","confirmSaveFile","confirmDialogComponent","setFilenameToSave","selectorComponent","OpenButton","loadFile","NewButton","ControlPanel","showBar","setShowBar","rotate","hamburger_button","EditorFrame","dropTarget","getEditorForName","componentEl","setComponentEl","useLayoutEffect","useMemo","newStyle","reduce","accIn","background","createElement","onDragOver","preventDefault","onDrop","ref","parseMetricProp","suffix","parseInt","substring","useDOMRect","element","withMargin","rect","setRect","refElementRectList","getClientRects","refElementRect","overlayRect","adjustRectWithMargin","refresherId","setInterval","newRectList","newRect","oldRect","identicalRect","REFRESH_DELAY_MS","clearInterval","getComputedStyle","mt","getPropertyValue","ml","mb","mr","left","top","width","height","r1","r2","Overlay","refElement","position","refPosition","setStyle","minWidth","minHeight","draggable","onDragStart","edit","OverlayHeader","OverlayContent","Toolbar","getControlsForName","unfold","fold","c","tool","ComponentOnsiteEditor","clazz","onsite","url","handleChangeFn","renderOnSiteEditors","ComponentToolbar","TextInputField","setText","border","borderRadius","outline","padding","pointerEvents","zIndex","onKeyDown","keyCode","Components","stateComponentsRoot","stateComponentsStatesRoot","Editor","Header","Text","forwardRef","contentEditable","suppressContentEditableWarning","onBlur","currentTarget","innerHTML","replace","Image","src","alt","TypeSelector","chooseComponent","keys","ChildAdder","componentName","setComponentName","isValidComponent","inactive","Subcomponent","Layout","alignItems","display","flexDirection","YOUTUBE_SRC","Youtube","isDragging","dragging","sdkReady","setSdkReady","playerRef","useRef","document","querySelector","onYouTubeIframeAPIReady","youtubeScript","head","appendChild","iframeStyle","EditBar","code","frameBorder","allow","autoplay","allowFullScreen","App","i18n","changeLanguage","id1","uuidv4","INITIAL_STATE","dropTargetId","sourceComponentId","createReducer","initialState","reducers","action","reducerFn","Actions","_state","_action","storableState","newStates","oldId","oldComponentState","newState","oldStyle","oldProperty","newComponentId","parent","newIds","forEach","componentState","indexOf","slice","hasOrphans","targetComponentId","parentId","sourceCloneId","cloneComponentState","componentCloneId","componentCloneState","child_id","newParentIds","splice","currentId","targetId","currentState","canDrop","testDropId","targetParentId","movedId","movedParentId","movedParent","targetParent","targetParentIds","idx1","newIds1","moved","langReducer","editorReducer","cascadeReducers","fns","stateIn","reducer","debug","combineReducers","componentsReducer","store","createStore","rootReducer","__REDUX_DEVTOOLS_EXTENSION__","enTranslations","frTranslations","use","initReactI18next","init","resources","en","translations","fr","fallbackLng","ns","defaultNS","keySeparator","interpolation","escapeValue","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.e95d3698.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ControlPanel\":\"ControlPanel_ControlPanel__1jrVZ\",\"Row\":\"ControlPanel_Row__1-QAu\",\"Group\":\"ControlPanel_Group__3GyCl\",\"GroupTitle\":\"ControlPanel_GroupTitle__1PbQE\",\"GroupContent\":\"ControlPanel_GroupContent__rqcOH\",\"Item\":\"ControlPanel_Item__3hm3-\",\"Button\":\"ControlPanel_Button__2Xxr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Selector\":\"Selector_Selector__dD-zg\",\"List\":\"Selector_List__1YuQh\",\"ListItem\":\"Selector_ListItem__3f6KA\",\"active\":\"Selector_active__U57d2\",\"SelectFileBar\":\"Selector_SelectFileBar__3xH6I\",\"ButtonBar\":\"Selector_ButtonBar__1dQ2X\",\"Button\":\"Selector_Button__3MIIF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Properties\":\"Properties_Properties__1tHcE\",\"LabelSelectComponent\":\"Properties_LabelSelectComponent__3-9DL\",\"PropertyList\":\"Properties_PropertyList__XtcIy\",\"PropertyEditor\":\"Properties_PropertyEditor__3Cwn8\",\"PropertyAdder\":\"Properties_PropertyAdder__2e4nj\",\"hamburger_button\":\"Properties_hamburger_button__2xN9D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Toolbar\":\"Toolbar_Toolbar__3XXhw\",\"controls\":\"Toolbar_controls__nhc29\",\"fold\":\"Toolbar_fold__Lw8cF\",\"tool\":\"Toolbar_tool__T-QD-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ButtonBar\":\"ConfirmDialog_ButtonBar__gHt-N\",\"Button\":\"ConfirmDialog_Button__3EAMP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Tree\":\"Tree_Tree__1cu2W\",\"Component\":\"Tree_Component__3KUwr\",\"Subcomponents\":\"Tree_Subcomponents__1Nqst\",\"active\":\"Tree_active__3_dcM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Overlay_Overlay__ikYeb\",\"edit\":\"Overlay_edit__15e2J\",\"OverlayHeader\":\"Overlay_OverlayHeader__1F06H\",\"OverlayContent\":\"Overlay_OverlayContent__10vyg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"controls_icon__1yj9p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbar_button_section\":\"common_toolbar_button_section__2_jXe\",\"toolbar_button_section_title\":\"common_toolbar_button_section_title__27_MQ\",\"toolbar_button_group\":\"common_toolbar_button_group__38Q6T\",\"toolbar_button\":\"common_toolbar_button__3oTw7\",\"inactive\":\"common_inactive__2vugK\",\"rotate\":\"common_rotate__1BgsA\",\"yesno\":\"common_yesno__14j8X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Editor\":\"Components_Editor__2Cc94\",\"Header\":\"Components_Header__YJ_Qb\",\"Components\":\"Components_Components__32FoM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__rq8wc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ModalStack\":\"Modal_ModalStack__3tcyB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"EditBar\":\"YoutubeVideo_EditBar__Nlq48\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { SET_LANG } from '../constants/action-types'; \n\nconst setLang = (lang) => {\n  return {\n    type: SET_LANG,\n    payload: lang,\n  };\n};\n\nexport default {\n  setLang\n}\n","export const RESET = 'RESET';\n\nexport const LOAD = 'LOAD';\nexport const SAVE = 'SAVE';\n\nexport const SET_LANG = 'SET_LANG';\n\nexport const SET_PARAM_VALUE = 'SET_PARAM_VALUE';\n\nexport const EDIT_COMPONENT = 'EDIT_COMPONENT';\nexport const CANCEL_EDITION = 'CANCEL_EDITION';\n\nexport const SET_STYLE_VALUE = 'SET_STYLE_VALUE';\nexport const SET_STYLE_STATE = 'SET_STYLE_STATE';\nexport const ADD_STYLE = 'ADD_STYLE';\nexport const DELETE_STYLE = 'DELETE_STYLE';\n\nexport const APPEND_COMPONENT = 'APPEND_COMPONENT';\nexport const PREPEND_COMPONENT = 'PREPEND_COMPONENT';\n\nexport const DELETE_COMPONENT = 'DELETE_COMPONENT';\n\nexport const COPY_COMPONENT = 'COPY_COMPONENT';\nexport const PASTE_COMPONENT = 'PASTE_COMPONENT';\n\nexport const NAVIGATE_PREV = 'NAVIGATE_PREV';\nexport const NAVIGATE_NEXT = 'NAVIGATE_NEXT';\nexport const NAVIGATE_UP = 'NAVIGATE_UP';\nexport const NAVIGATE_DOWN = 'NAVIGATE_DOWN';\n\nexport const SET_OVERLAY_TARGET = 'SET_OVERLAY_TARGET';\n\nexport const START_DRAG = 'START_DRAG';\nexport const DRAG_OVER = 'DRAG_OVER';\nexport const DROP = 'DROP';\n","export function createAction(name, fn = () => ({})) {\n  // No arrow function here !\n  // Parameters must be bound at run time, not lexically.\n  const actionFn = function() {\n    const res = fn(...arguments);\n    return {...res, type: name};\n  }\n  actionFn.toString = () => name;\n\n  return actionFn;\n}\n\nexport function createReducer(initialState, reducers) {\n  return (state = initialState, action) => {\n    const reducerFn = reducers[action.type];\n    return reducerFn ? reducerFn(state, action) : state;\n  }\n}\n\nexport function cascadeReducers() {\n  const fns = [...arguments];\n  return (state, action) =>\n    fns.reduce((stateIn, reducer) => reducer(stateIn, action), state)\n}\n","import * as ActionTypes from '../constants/action-types'; \nimport { createAction } from '../misc/reduxtils';\n\nconst reset = createAction(ActionTypes.RESET);\n\nconst load = createAction(ActionTypes.LOAD, (filename) => {\n  return {\n    filename\n  }\n});\n\nconst save = createAction(ActionTypes.SAVE, (filename) => {\n  return {\n    filename\n  }\n});\n\nconst editComponent = createAction(ActionTypes.EDIT_COMPONENT, (id) => {\n  return { \n    id\n  };\n});\n\nconst cancelEdition = createAction(ActionTypes.CANCEL_EDITION);\n\nconst setParamValue = createAction(ActionTypes.SET_PARAM_VALUE, (id, param, value) => {\n  return {\n    id,\n    payload: { param, value }\n  };\n});\n\nconst setStyleValue = createAction(ActionTypes.SET_STYLE_VALUE, (id, property, value) => {\n  return {\n    id,\n    payload: { params: { property, value } }\n  }\n});\n\nconst setStyleState = createAction(ActionTypes.SET_STYLE_STATE, (id, property, active) => {\n  return {\n    id,\n    payload: { params: { property, active } }\n  }\n});\n\nconst addStyle = createAction(ActionTypes.ADD_STYLE, (id, property, value) => {\n  return {\n    id,\n    payload: { params: { property, value } }\n  }\n});\n\nconst deleteStyle = createAction(ActionTypes.DELETE_STYLE, (id, property) => {\n  return {\n    id,\n    payload: { params: { property } }\n  }\n});\n\nconst appendComponent = createAction(ActionTypes.APPEND_COMPONENT, (id, name) => {\n  return {\n    id,\n    payload: { params: { name } }\n  }\n});\n\nconst prependComponent = createAction(ActionTypes.PREPEND_COMPONENT, (id, name) => {\n  return {\n    id,\n    payload: { params: { name } }\n  }\n});\n\nconst deleteComponent = createAction(ActionTypes.DELETE_COMPONENT, (id, name) => {\n  return {\n    id,\n    payload: {}\n  }\n});\n\nconst copyComponent = createAction(ActionTypes.COPY_COMPONENT);\n\nconst pasteComponent = createAction(ActionTypes.PASTE_COMPONENT);\n\nconst navigatePrev = createAction(ActionTypes.NAVIGATE_PREV, (id) => {\n  return {\n    id\n  }\n});\n\nconst navigateNext = createAction(ActionTypes.NAVIGATE_NEXT, (id) => {\n  return {\n    id\n  }\n});\n\nconst navigateUp = createAction(ActionTypes.NAVIGATE_UP, (id) => {\n  return {\n    id\n  }\n});\n\nconst navigateDown = createAction(ActionTypes.NAVIGATE_DOWN, (id) => {\n  return {\n    id\n  }\n});\n\nconst setOverlayTarget = createAction(ActionTypes.SET_OVERLAY_TARGET, (target) => {\n  return {\n    target\n  }\n});\n\nconst startDrag = createAction(ActionTypes.START_DRAG);\n\nconst dragOver = createAction(ActionTypes.DRAG_OVER, (id) => {\n  return {\n    id\n  }\n});\n\nconst drop = createAction(ActionTypes.DROP, (id) => {\n  return {\n    id\n  }\n});\n\nexport default {\n  reset,\n  load,\n  save,\n  editComponent,\n  cancelEdition,\n  setParamValue,\n  setStyleValue,\n  setStyleState,\n  addStyle,\n  deleteStyle,\n  appendComponent,\n  prependComponent,\n  deleteComponent,\n  copyComponent,\n  pasteComponent,\n  navigatePrev,\n  navigateNext,\n  navigateUp,\n  navigateDown,\n  setOverlayTarget,\n  startDrag,\n  dragOver,\n  drop\n}\n","import langActions from \"./langActions\";\nimport componentActions from \"./componentActions\";\nimport editorActions from \"./editorActions\";\n\nconst actions = {\n  lang: langActions,\n  component: componentActions,\n  editor: editorActions\n};\n\nexport default actions;\n","import * as ActionTypes from '../constants/action-types'; \n\nexport default {\n}\n","export const buildEventHandlerWrapper = (fn) => {\n  return (e) => {\n    e.stopPropagation();\n    fn()\n  }\n};\n\nexport const noop = () => {};\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { FaTimesCircle } from 'react-icons/fa';\nimport { buildEventHandlerWrapper } from '../../misc/utils';\nimport actions from '../../actions';\nimport commonStyle from '../common.module.scss';\nimport styles from './controls.module.scss';\n\nconst Cross = () => {\n  const dispatch = useDispatch();\n  const cancelEdition = () => dispatch(actions.component.cancelEdition());\n  const clickEventHandler = buildEventHandlerWrapper(cancelEdition);\n\n  return (\n    <div onClick={clickEventHandler} className={`${commonStyle.toolbar_button} ${styles.icon}`}><FaTimesCircle /></div>\n  )\n};\n  \nexport default Cross;\n","import React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport commonStyle from '../common.module.scss';\n\nconst YesNo = ({onYes, onNo}) => {\n  const {t} = useTranslation();\n\n  return (\n    <div className={`${commonStyle.yesno} ${commonStyle.toolbar_button_group}`}>\n      <div className={`${commonStyle.toolbar_button}`} onClick={onYes}>{t('YesNo.yes')}</div>\n      <div className={`${commonStyle.toolbar_button}`} onClick={onNo}>{t('YesNo.no')}</div>\n    </div>\n  );\n}\n\nexport default YesNo;\n","import React, {useEffect, useState} from 'react';\nimport { useDispatch } from 'react-redux';\nimport { FaTrashAlt } from 'react-icons/fa';\nimport YesNo, {withYesNo} from './YesNo';\nimport actions from '../../actions';\nimport commonStyle from '../common.module.scss';\nimport styles from './controls.module.scss';\n\nconst Delete = ({id}) => {\n  const [showYesNo, setShowYesNo] = useState(false);\n  const dispatch = useDispatch();\n  const deleteComponent = () => dispatch(actions.component.deleteComponent(id));\n\n  useEffect(() => {\n    setShowYesNo(false);\n  }, [id]);\n\n  const cancelDelete = () => setShowYesNo(false);\n  const doDelete = () => {\n    deleteComponent();\n    setShowYesNo(false);\n  };\n\n  return (\n    <div>\n      <div onClick={() => setShowYesNo(!showYesNo)} className={`${commonStyle.toolbar_button} ${styles.icon}`}>\n        <FaTrashAlt />\n      </div>\n      {showYesNo && <YesNo onYes={doDelete} onNo={cancelDelete} />}\n    </div>\n  )\n};\n  \nexport default Delete;\n","import React from 'react';\nimport {useDispatch} from 'react-redux';\nimport {useTranslation} from 'react-i18next';\nimport {FaRegArrowAltCircleLeft, FaRegArrowAltCircleRight, FaRegArrowAltCircleUp, FaRegArrowAltCircleDown} from 'react-icons/fa';\nimport actions from '../../actions';\nimport styles from '../common.module.scss';\n\nconst Navigator = ({id}) => {\n  const {t} = useTranslation();\n  const dispatch = useDispatch();\n  const navigatePrev = () => dispatch(actions.component.navigatePrev(id));\n  const navigateNext = () => dispatch(actions.component.navigateNext(id));\n  const navigateUp = () => dispatch(actions.component.navigateUp(id));\n  const navigateDown = () => dispatch(actions.component.navigateDown(id));\n\n  return (\n    <div className={`${styles.toolbar_button_section}`}>\n      <div className={`${styles.toolbar_button_section_title}`}>{t('Navigator.navigate')}</div>\n      <div className={`${styles.toolbar_button_group}`}>\n        <div className={`${styles.toolbar_button}`} onClick={navigatePrev}>\n          <FaRegArrowAltCircleLeft />\n        </div>\n        <div className={`${styles.toolbar_button}`} onClick={navigateNext}>\n        <FaRegArrowAltCircleRight />\n        </div>\n        <div className={`${styles.toolbar_button}`} onClick={navigateUp}>\n          <FaRegArrowAltCircleUp />\n        </div>\n        <div className={`${styles.toolbar_button}`} onClick={navigateDown}>\n        <FaRegArrowAltCircleDown />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Navigator;","import React from 'react';\nimport {useDispatch} from 'react-redux';\nimport {useTranslation} from 'react-i18next';\nimport {FaCopy, FaPaste} from 'react-icons/fa';\nimport actions from '../../actions';\nimport styles from '../common.module.scss';\n\nconst CopyPaste = ({id}) => {\n  const {t} = useTranslation();\n  const dispatch = useDispatch();\n  const copyComponent = () => dispatch(actions.component.copyComponent(id));\n  const pasteComponent = () => dispatch(actions.component.pasteComponent(id));\n\n  return (\n    <div className={`${styles.toolbar_button_section}`}>\n      <div className={`${styles.toolbar_button_section_title}`}>{t('CopyPaste.title')}</div>\n      <div className={`${styles.toolbar_button_group}`}>\n        <div className={`${styles.toolbar_button}`} onClick={copyComponent}>\n          <FaCopy />\n        </div>\n        <div className={`${styles.toolbar_button}`} onClick={pasteComponent}>\n        <FaPaste />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CopyPaste;","import Cross from '../components/controls/Cross';\nimport Delete from '../components/controls/Delete';\nimport Navigator from '../components/controls/Navigator';\nimport CopyPaste from '../components/controls/CopyPaste';\n\nconst components = {};\nwindow.components = components;\n\nconst registerComponent = (declaration) => {\n  const {name, ...props} = declaration;\n  let {controls = [], ...rest} = props;\n  controls = [Navigator, CopyPaste, Delete, Cross, ...controls];\n\n  components[name] = {controls, ...rest};\n};\n\nconst getRecordForName = (name) => components[name] || {};\n\nconst getComponentForName = (name) => getRecordForName(name).component;\n\nconst getEditorForName = (name) => getRecordForName(name).editor;\n\nconst getControlsForName = (name) => getRecordForName(name).controls;\n\nconst getComponentNameList = () => Object.keys(components);\n\nconst getDefaultParamsForName = (name) => getRecordForName(name).default;\n\nconst getOnsitePropsForName = (name) => getRecordForName(name).onsite;\n\nexport {\n  registerComponent,\n  getComponentForName,\n  getEditorForName,\n  getControlsForName,\n  getComponentNameList,\n  getDefaultParamsForName,\n  getOnsitePropsForName\n}\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { FaPlusCircle, FaTrashAlt, FaEye, FaEyeSlash } from 'react-icons/fa';\nimport actions from '../actions';\nimport styles from './Properties.module.scss';\n\nconst PropertyEditor = ({id, k, v, active}) => {\n  const dispatch = useDispatch();\n  const [value, setValue] = useState(v);\n\n  const handleOnValidate = (event) => {\n    if (event.key === 'Enter') {\n      dispatch(actions.component.setStyleValue(id, k, value));\n    }\n  }\n\n  const handleOnChange = (event) => {\n    setValue(event.target.value);\n  }\n\n  const deleteProperty = () => {\n    dispatch(actions.component.deleteStyle(id, k));\n  }\n\n  const togglePropState = () => {\n    dispatch(actions.component.setStyleState(id, k, !active));\n  }\n\n  const renderInputField = () => {\n    if (active) {\n      return <input value={value} onKeyPress={handleOnValidate} onChange={handleOnChange} />;\n    }\n    else {\n      return <input disabled={true} value={value} />;\n    }\n  }\n\n  return (\n    <div className={`${styles.PropertyEditor}`}>\n      <Toggle active={active} onToggle={togglePropState} />\n      <span>{k}</span>\n      {renderInputField()}\n      <button onClick={deleteProperty}><FaTrashAlt /></button>\n    </div>\n  );\n}\n\nconst Toggle = ({active, onToggle}) => {\n  const Component = active ? FaEye : FaEyeSlash;\n  return (\n    <Component onClick={onToggle}>click</Component>\n  );\n};\n\nconst PropertyList = ({id}) => {\n  const style = useSelector((state) => state.components.states[id].style);\n\n  return (\n    <div>\n      <div>{id}</div>\n      <div className={`${styles.PropertyList}`}>\n        {Object.entries(style).map(([k, {active, value}]) => {\n          return <PropertyEditor key={`${id}_${k}`} id={id} k={k} v={value} active={active} />;\n        })}\n      </div>\n      <AddPropertyPanel id={id} />\n    </div>\n  );\n};\n\nconst Properties = () => {\n  const { t } = useTranslation();\n  const activeComponentId = useSelector((state) => state.components.active);\n//  <h1>{t(\"Properties.title\")}</h1>\n\n  return (\n    <div className={styles.Properties}>\n      {activeComponentId && <PropertyList id={activeComponentId} />}\n      {!activeComponentId && <span className={`${styles.LabelSelectComponent}`}>{t(\"Properties.select_component\")}</span>}\n    </div>\n  );\n};\n\nconst AddPropertyPanel = ({id}) => {\n  const dispatch = useDispatch();\n  const [property, setProperty] = useState(\"property\");\n  const [value, setValue] = useState(\"value\");\n\n  const addProperty = () => {\n    dispatch(actions.component.addStyle(id, property, value))\n  }\n\n  return (\n    <div className={`${styles.PropertyAdder}`}>\n      <input value={property} onChange={(e) => setProperty(e.target.value)} />\n      <input value={value} onChange={(e) => setValue(e.target.value)} />\n      <button onClick={addProperty}><FaPlusCircle/></button>\n    </div>\n  );\n}\n\nexport default Properties;","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styles from './Selector.module.scss';\n\nconst Selector = ({list, onSelect, onCancel}) => {\n  const { t } = useTranslation();\n  const [selected, setSelected] = useState('');\n  const [selectedId, setSelectedId] = useState(null);\n\n  const onListEntryClicked = (id) => {\n    setSelected(list[id]);\n    setSelectedId(id);\n  }\n\n  return (\n    <div className={`${styles.Selector}`}>\n      <div className={`${styles.List}`}>\n        {list.map((item, idx) => <SelectorListEntry key={idx} id={idx} text={item} onSelected={onListEntryClicked} isActive={selectedId === idx}/>)}\n      </div>\n\n      <div className={`${styles.SelectFileBar}`}>\n        File <input value={selected} onChange={(e) => setSelected(e.target.value) }/>  \n      </div>\n\n      <div className={`${styles.ButtonBar}`}>\n        <div className={`${styles.Button}`} onClick={() => onSelect(selected)}>Select</div>\n        <div className={`${styles.Button}`} onClick={onCancel}>Cancel</div>\n      </div>\n    </div>\n  );\n}\n\nconst SelectorListEntry = ({text, id, onSelected, isActive}) => {\n  return (\n    <div className={`${styles.ListItem} ${isActive ? styles.active : \"\"}`} onClick={() => onSelected(id)}>{text}</div>\n  );\n}\n\nexport default Selector;\n","import React from 'react';\nimport styles from './ConfirmDialog.module.scss';\n\nconst ConfirmDialog = ({ text, onConfirm, onCancel }) => {\n  return (\n    <div className={`${styles.ConfigDialog}`}>\n      <div>{text}</div>\n      <div className={`${styles.ButtonBar}`}>\n        <div className={`${styles.Button}`} onClick={onConfirm}>Select</div>\n        <div className={`${styles.Button}`} onClick={onCancel}>Cancel</div>\n      </div>\n    </div>\n  );\n}\n\nexport default ConfirmDialog;\n","import React, { useMemo } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport actions from '../actions';\nimport {buildEventHandlerWrapper, noop} from '../misc/utils';\nimport styles from './Tree.module.scss';\n\nconst Tree = () => {\n  const dispatch = useDispatch();\n  const tree = useSelector(state => state.components);\n  const { root, active, states } = tree;\n\n  const renderSubcomponents = (id) => {\n    return (\n      <div className={`${styles.Subcomponents}`}>\n        {states[id].params.ids.map((subId) => {\n          return renderComponent(subId);\n        })}\n      </div>\n    );\n  };\n\n  const renderComponent = (id) => {\n    const compoDesc = states[id];\n\n    const onClick = () => {\n      const editComponent = () => dispatch(actions.component.editComponent(id));\n      return buildEventHandlerWrapper(editComponent);\n    };\n  \n    return (\n      <div className={`${styles.Component}`} onClick={onClick()}>\n        <span className={active === id ? `${styles.active}` : \"\"}>{id}</span>\n        {compoDesc.params.ids && renderSubcomponents(id)}\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${styles.Tree}`}>\n      {renderComponent(root)}\n    </div>\n  );\n};\n\nexport default Tree;\n","import React, { useState, useContext } from 'react';\nimport styles from './Modal.module.scss';\n\nconst ModalContext = React.createContext({ push: undefined, pop: undefined });\nModalContext.displayName = 'ModalContext';\n\nconst ModalStack = ({children}) => {\n  const [modals, setModals] = useState([]);\n\n  const push = (modal) => {\n    setModals((prevModals ) => [modal, ...prevModals]);\n  };\n\n  const pop = () => {\n    setModals(([_head, ...tail]) => [...tail]);\n  };\n\n  const actions = {\n    push,\n    pop\n  };\n\n  const renderModals = () => {\n    if (modals.length > 0) {\n      const Comp = modals[0];\n      return (\n        <div className={`${styles.ModalStack}`}>\n          <Comp />\n        </div>\n      );\n    }\n  };\n\n  return (\n    <ModalContext.Provider value={actions}>\n      {renderModals()}\n      {children}\n    </ModalContext.Provider>\n  );\n};\n\nconst useStack = () => {\n  const actions = useContext(ModalContext);\n  return [actions.push, actions.pop];\n}\n\nexport { ModalStack as default, useStack };\n","const KEY_FILENAMES = 'editor2000-filenames';\nconst KEY_FILENAME_PREFIX = 'editor2000-';\n\nconst Store = {\n  listFilenames: () => {\n    const filenames = localStorage.getItem(KEY_FILENAMES) || \"[]\";\n    return JSON.parse(filenames);\n  },\n\n  loadFromFile: (filename) => {\n    const filecontent = localStorage.getItem(`${KEY_FILENAME_PREFIX}${filename}`);\n    return JSON.parse(filecontent);\n  },\n\n  // loadFromFile: (filename) => {\n  //   const filecontent = localStorage.getItem(`${KEY_FILENAME_PREFIX}${filename}`);\n  //   const content = JSON.parse(filecontent);\n  //   console.log(content.states);\n  //   const states = Object.entries(content.states).reduce((accIn, [k, {style, ...rest}]) => {\n  //     const newStyle = Object.entries(style).reduce((styleIn, [prop, value]) => {\n  //       return {...styleIn, [prop]: {value: value, active: true}}\n  //     }, {})\n  //     return {...accIn, [k]: {...rest, style: newStyle}}\n  //   }, {});\n\n  //   console.log(states);\n  //   return {...content, states: states};\n  // },\n\n  saveToFile: (filename, object) => {\n    console.log(object);\n    const mangledFilename = `${KEY_FILENAME_PREFIX}${filename}`;\n    const filecontent = JSON.stringify(object);\n    localStorage.setItem(mangledFilename, filecontent);\n\n    const filenamesBucketContent = localStorage.getItem(KEY_FILENAMES) || \"[]\";\n    const filenames = JSON.parse(filenamesBucketContent);\n    const newFilenames = filenames.includes(filename) ? filenames : [...filenames, filename]\n    const newFilenamesBucketContent = JSON.stringify(newFilenames);\n    localStorage.setItem(KEY_FILENAMES, newFilenamesBucketContent);\n  }\n};\n\nwindow.Store = Store;\n\nexport default Store;\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch } from 'react-redux';\nimport { FaHamburger, FaSave, FaFolderOpen, FaFile } from 'react-icons/fa';\nimport { v4 as uuidv4 } from 'uuid';\nimport Properties from './Properties';\nimport Selector from './Selector';\nimport ConfirmDialog from './ConfirmDialog';\nimport Tree from './Tree';\nimport { useStack } from './Modal';\nimport actions from '../actions';\nimport Store from '../misc/localstorage';\nimport commonStyle from './common.module.scss';\nimport styles from './ControlPanel.module.scss';\n\nconst Row = ({children}) => {\n  return (\n    <div className={`${styles.Row}`}>\n      {children}\n    </div>\n  );\n};\n\nconst Group = ({title = null, children}) => {\n  return (\n    <div className={`${styles.Group}`}>\n      {title && <div className={`${styles.GroupTitle}`}>{title}</div>}\n      <div className={`${styles.GroupContent}`}>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nconst Item = ({children}) => {\n  return (\n    <div className={`${styles.Item}`}>\n      {children}\n    </div>\n  );\n};\n\nconst SaveButton = () => {\n  const dispatch = useDispatch();\n  const [push, pop] = useStack();\n  const [saveToFilename, setSaveToFilename] = useState(null);\n\n  const confirmSaveFile = () => {\n    pop();\n    pop();\n    saveToFilename && dispatch(actions.component.save(saveToFilename));\n  }\n\n  const confirmDialogComponent = () => <ConfirmDialog text={\"confirm\"} onConfirm={confirmSaveFile} onCancel={() => pop()} />\n\n  const setFilenameToSave = (filename) => {\n    setSaveToFilename(filename);\n    push(confirmDialogComponent);\n  }\n\n  const filenames = Store.listFilenames();\n  const selectorComponent = () => <Selector list={filenames} onSelect={setFilenameToSave} onCancel={() => pop()} />\n  const showSelectorDialog = () => push(selectorComponent);\n\n  return (\n    <div className={`${styles.Button}`} onClick={showSelectorDialog}>\n      <FaSave />\n    </div>\n  );\n};\n\nconst OpenButton = () => {\n  const dispatch = useDispatch();\n  const [push, pop] = useStack();\n\n  const filenames = Store.listFilenames();\n  const loadFile = (filename) => {\n    pop();\n    dispatch(actions.component.load(filename))\n  }\n\n  const component = () => <Selector list={filenames} onSelect={loadFile} onCancel={() => pop()} />\n\n  const onClick = () => {\n    push(component);\n  };\n\n  return (\n    <div className={`${styles.Button}`} onClick={onClick}>\n      <FaFolderOpen />\n    </div>\n  );\n};\n\nconst NewButton = () => {\n  const dispatch = useDispatch();\n\n  const onClick = () => {\n    dispatch(actions.component.reset());\n  };\n\n  return (\n    <div className={`${styles.Button}`} onClick={onClick}>\n      <FaFile />\n    </div>\n  );\n};\n\nconst ControlPanel = () => {\n  const { t } = useTranslation();\n  const [showBar, setShowBar] = useState(true);\n\n  return (\n    <div className={`${styles.ControlPanel}`}>\n      <div className={`${commonStyle.toolbar_button} ${showBar ? commonStyle.rotate : \"\"} ${styles.hamburger_button}`}><FaHamburger onClick={() => setShowBar(!showBar)} /></div>\n      {showBar &&\n        <>\n          <Row>\n            <Group>\n              <Item><NewButton/></Item>\n            </Group>\n            <Group title=\"file\">\n              <Item><SaveButton/></Item>\n              <Item><OpenButton/></Item>\n            </Group>\n          </Row>\n\n          <Row>\n            <Group>\n              <Properties />\n            </Group>\n          </Row>\n\n          <Row>\n            <Group>\n              <Tree />\n            </Group>\n          </Row>\n        </>}\n    </div>\n  );\n};\n\nexport default ControlPanel;\n","import React, {useState, useLayoutEffect, useMemo} from 'react';\nimport {useDispatch} from 'react-redux';\nimport {getComponentForName, getEditorForName} from './registry';\nimport {buildEventHandlerWrapper, noop} from '../misc/utils';\nimport actions from '../actions';\n\nconst EditorFrame = ({component: name, id, active, style, dropTarget, ...rest}) => {\n  const dispatch = useDispatch();\n  const component = active ? (getEditorForName(name) || getComponentForName(name)) : getComponentForName(name);\n  const [componentEl, setComponentEl] = useState(null);\n\n  useLayoutEffect(() => {\n    if (active) {\n      dispatch(actions.component.setOverlayTarget(componentEl));\n    }\n  }, [componentEl, dispatch, active]);\n\n  const onClick = useMemo(() => {\n    if (active) {\n      return buildEventHandlerWrapper(noop);\n    }\n    else {\n      const editComponent = () => dispatch(actions.component.editComponent(id));\n      return buildEventHandlerWrapper(editComponent);\n    }\n  }, [active, id, dispatch]);\n\n  const setRef = (e) => setComponentEl(e);\n\n  const onDragOver = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    dispatch(actions.component.dragOver(id));\n  };\n  \n  const onDrop = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    dispatch(actions.component.drop(id));\n  }\n\n  let newStyle = Object.entries(style).reduce((accIn, [key, {active, value}]) => (active ? {...accIn, [key]: value} : accIn), {});\n\n  if (dropTarget) {\n    newStyle.background = 'rgba(255, 157, 100, 0.5)';\n  }\n\n  return React.createElement(component, {...rest, style: newStyle, active: active, id: id, onClick: onClick, onDragOver: onDragOver, onDrop: onDrop, ref: setRef});\n};\n\nexport default EditorFrame;\n","import React, {useLayoutEffect, useState, useEffect} from 'react';\nimport {useDispatch} from 'react-redux';\nimport actions from '../actions';\nimport styles from './Overlay.module.scss';\n\nconst Overlay = ({element, refElement, children}) => {\n  const dispatch = useDispatch();\n  const position = useDOMRect(element);\n  const refPosition = useDOMRect(refElement, false);\n  const [style, setStyle] = useState({});\n\n  useEffect(() => {\n    if (!position || !refPosition) {\n      return;\n    }\n\n    setStyle((style) => {\n      const newStyle = {...style,\n        left: position.left - refPosition.left,\n        top: position.top - refPosition.top,\n        minWidth: position.width,\n        minHeight: position.height\n      };\n      return newStyle;\n    });\n\n  }, [position, refPosition]);\n\n  const startDrag = () => {\n    dispatch(actions.component.startDrag())\n  }\n  \n  return (\n    <div draggable onDragStart={startDrag} className={`${styles.Overlay} ${styles.edit}`} style={style}>\n      <div className={`${styles.OverlayHeader}`} />\n      <div className={`${styles.OverlayContent}`}>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nfunction parseMetricProp(value, suffix = \"px\") {\n  return parseInt(value.substring(0, value.length - suffix.length));\n}\n\nconst useDOMRect = (element, withMargin = true) => {\n  const [rect, setRect] = useState(null);\n\n  useLayoutEffect(() => {\n    if (!element) {\n      return;\n    }\n\n    const refElementRectList = element.getClientRects();\n    const refElementRect = refElementRectList && refElementRectList[0];\n    if (!refElementRect) {\n      return;\n    }\n\n    const overlayRect = withMargin ? adjustRectWithMargin(refElementRect, element) : refElementRect;\n    setRect(overlayRect);\n\n    const refresherId = setInterval(() => {\n      const newRectList = element.getClientRects();\n      const newRect = newRectList && newRectList[0];\n\n      setRect((oldRect) => {\n        const overlayRect = withMargin ? adjustRectWithMargin(newRect, element) : newRect;\n        const areSameRect = identicalRect(oldRect, overlayRect);\n        return areSameRect ? oldRect : overlayRect;\n      });\n    }, REFRESH_DELAY_MS);\n\n    return () => {\n      clearInterval(refresherId);\n    };\n\n  }, [element, withMargin]);\n\n  return rect;\n};\n\nconst REFRESH_DELAY_MS = 300;\n\nfunction adjustRectWithMargin(rect, element) {\n  const style = window.getComputedStyle(element);\n  const mt = parseMetricProp(style.getPropertyValue('margin-top'));\n  const ml = parseMetricProp(style.getPropertyValue('margin-left'));\n  const mb = parseMetricProp(style.getPropertyValue('margin-bottom'));\n  const mr = parseMetricProp(style.getPropertyValue('margin-right'));\n\n  return (\n    {\n      left: rect.left - ml,\n      top: rect.top - mt,\n      width: rect.width + ml + mr,\n      height: rect.height + mt + mb\n    }\n  );\n}\n\nconst identicalRect = (r1, r2) => {\n  if (!r1 || !r2) return false;\n\n  // Compare only used properties\n  return (\n    r1.top === r2.top && \n    r1.left === r2.left && \n    r1.width === r2.width && \n    r1.height === r2.height \n  );\n}\n\nexport default Overlay;\n","import React, {useState} from 'react';\nimport {FaHamburger} from 'react-icons/fa';\nimport {getControlsForName} from './registry';\nimport styles from './Toolbar.module.scss';\nimport commonStyle from './common.module.scss';\n\nconst Toolbar = ({component: name, id}) => {\n  const [showBar, setShowBar] = useState(true);\n  const controls = getControlsForName(name);\n\n  const renderTools = () =>\n    controls.map((c, idx) =>\n      <div className={`${styles.tool}`} key={idx}>\n        {React.createElement(c, {id})}\n      </div>);\n\n  return (\n    <div className={`${styles.Toolbar}`}>\n      <div className={`${commonStyle.toolbar_button} ${showBar ? commonStyle.rotate : \"\"}`}><FaHamburger onClick={() => setShowBar(!showBar)} /></div>\n      <div className={`${styles.controls} ${showBar ? styles.unfold : styles.fold}`}>\n        {renderTools()}\n      </div>\n    </div>\n  );\n};\n\nexport default Toolbar;\n","import React, {useState, useEffect} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {getOnsitePropsForName} from './registry';\nimport ControlPanel from './ControlPanel';\nimport EditorFrame from './EditorFrame';\nimport Overlay from './Overlay';\nimport Toolbar from './Toolbar';\nimport styles from './Components.module.scss';\nimport actions from '../actions';\n\nconst ComponentOnsiteEditor = ({refElement}) => {\n  const dispatch = useDispatch();\n  const element = useSelector((state) => state.components.element);\n  const active = useSelector((state) => state.components.active);\n  const component = useSelector((state) => state.components.states[state.components.active]);\n\n  const renderOnSiteEditors = () => {\n    const clazz = component.component;\n    const onsite = getOnsitePropsForName(clazz) || [];\n  \n    return onsite.map(([param, type], idx) => {\n      return (\n        <TextInputField key={idx} url={component.params[param]} handleChangeFn={(text) => {\n          dispatch(actions.component.setParamValue(active, param, text));\n        }}/>\n      );\n    });\n  };\n\n  return (\n    element && component\n      ? <Overlay element={element} refElement={refElement}>\n          {renderOnSiteEditors()}\n        </Overlay>\n      : null\n  )\n};\n\nconst ComponentToolbar = () => {\n  const active = useSelector((state) => state.components.active);\n  const component = useSelector((state) => state.components.states[state.components.active]);\n\n  return (\n    active && component ? <Toolbar component={component.component} id={active} /> : null\n  );\n};\n\nconst Components = () => {\n  const stateComponentsRoot = useSelector((state) => state.components.root);\n  const stateComponentsStatesRoot = useSelector((state) => state.components.states[state.components.root]);\n  const [componentEl, setComponentEl] = useState(null);\n\n  const setRef = (e) => setComponentEl(e);\n\n  return (\n    <div className={styles.Editor}>\n      <div className={styles.Header}>\n        <ComponentToolbar />\n      </div>\n      <div className={styles.Components} ref={setRef}>\n        <ComponentOnsiteEditor refElement={componentEl} />\n        {stateComponentsStatesRoot && <EditorFrame key={stateComponentsRoot} id={stateComponentsRoot} {...stateComponentsStatesRoot} />}\n      </div>\n      <ControlPanel />\n    </div>\n  );\n};\n\nconst TextInputField = ({url, handleChangeFn}) => {\n  const [text, setText] = useState(url);\n\n  useEffect(() => {\n    setText(url);\n  }, [url]);\n\n  const handleChange = (event) => setText(event.target.value)\n\n  const handleKeyDown = (event) => {\n    const code = event.keyCode;\n    if (code === 13) {\n      event.preventDefault();\n      handleChangeFn(text);\n    }\n  }\n\n  const style = {\n    border: '1px dashed',\n    borderRadius: '0',\n    outline: 'none',\n    padding: '10px',\n    pointerEvents: 'all',\n    zIndex: 2\n  };\n\n  return (\n    <input style={style} type=\"text\" value={text} onChange={handleChange} onKeyDown={handleKeyDown} />\n  );\n}\n\nexport default Components;\n","import React from 'react';\nimport { useDispatch } from \"react-redux\";\nimport { registerComponent } from './registry';\nimport actions from '../actions';\n\nconst Text = React.forwardRef(({id, params, ...rest}, ref) => {\n  return (\n    <div {...rest} ref={ref}>\n      {params.text}\n    </div>\n  );\n});\n\nconst TextEditor = React.forwardRef(({id, params, ...rest}, ref) => {\n  const dispatch = useDispatch();\n\n  const updateText = (text) => {\n    text =\n      text\n        .replace(/<div[^/]*>/g, \"\\n\")\n        .replace(/<div[^/]*\\/>/g, \"\\n\")\n        .replace(/<br>/g, \"\\n\")\n        .replace(/<\\/div>/g, \"\")\n        .replace(/<\\/div>/g, \"\")\n        .replace(/<\\w*\\s*.*>/g, \"\")\n        .replace(/&lt;/g, '<')\n        .replace(/&gt;/g, '>')\n        .replace(/&amp;/g, '&')\n    dispatch(actions.component.setParamValue(id, 'text', text));\n  }\n\n  return (\n    <div contentEditable=\"true\" suppressContentEditableWarning=\"true\" id={id} onBlur={(e)=>{updateText(e.currentTarget.innerHTML)}} ref={ref} {...rest}>\n      {params.text}\n    </div>\n  );\n});\n\nregisterComponent({\n  name: 'text',\n  component: Text,\n  editor: TextEditor,\n  default: {\n    component: 'text',\n    params: {\n      text: ' ++++++ '\n    },\n    style: {}\n  }\n});\n\nexport default Text;\n","import React from 'react';\nimport { registerComponent } from './registry';\n\nconst Image = React.forwardRef(({params, ...rest}, ref) => {\n  return (\n    <img src={`${params.url}`} alt=\"img\" ref={ref} {...rest} />\n  );\n});\n\nregisterComponent({\n  name: 'image',\n  component: Image,\n  onsite: [\n    ['url', 'text']\n  ],\n  default: {\n    component: 'image',\n    params: {\n      url: 'https://picsum.photos/id/249/200/300'\n    },\n    style: {}\n  }\n});\n\nexport default Image;\n","import React, {useState} from 'react';\nimport {useDispatch} from 'react-redux';\nimport {useTranslation} from 'react-i18next';\nimport {FaStepBackward, FaStepForward} from 'react-icons/fa';\nimport {getComponentNameList} from '../registry';\nimport actions from '../../actions';\nimport styles from '../common.module.scss';\n\nconst TypeSelector = ({chooseComponent})  => {\n  const {t} = useTranslation();\n  return (\n    <select onChange={(e) => chooseComponent(e.target.value)}>\n      <option value=\"\">{t('Adder.choose_a_component')}</option>\n      {getComponentNameList().map((name, idx) => <option key={idx} value={name}>{name}</option>)}\n    </select>\n  );\n}\n\nconst ChildAdder = ({id}) => {\n  const {t} = useTranslation();\n  const dispatch = useDispatch();\n  const [componentName, setComponentName] = useState('');\n  const chooseComponent = (name) => {\n    setComponentName(name);\n  }\n\n  const isValidComponent = () => componentName !== '';\n\n  const prependComponent = () => dispatch(actions.component.prependComponent(id, componentName));\n  const appendComponent = () => dispatch(actions.component.appendComponent(id, componentName));\n\n  return (\n    <div className={`${styles.toolbar_button_section}`}>\n      <div className={`${styles.toolbar_button_section_title}`}>{t('Adder.add')}</div>\n      <div className={`${styles.toolbar_button_group}`}>\n        <div className={`${styles.toolbar_button} ${isValidComponent() ? '' : styles.inactive}`} onClick={isValidComponent() ? prependComponent : undefined}>\n          <FaStepBackward />\n        </div>\n        <div className={`${styles.toolbar_button}`}>\n          <TypeSelector chooseComponent={chooseComponent} />\n        </div>\n        <div className={`${styles.toolbar_button} ${isValidComponent() ? '' : styles.inactive}`} onClick={isValidComponent() ? appendComponent : undefined}>\n        <FaStepForward />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChildAdder;","import React from 'react';\nimport {useSelector} from \"react-redux\";\nimport {registerComponent} from './registry';\nimport EditorFrame from './EditorFrame';\nimport ChildAdder from './controls/ChildAdder';\n\nconst Subcomponent = ({id}) => {\n  const props = useSelector((state) => state.components.states[id]);\n\n  return (\n    <EditorFrame id={id} {...props} />\n  );\n};\n\nconst renderSubcomponents = (ids) => {\n  return ids.map((id) => {\n    return <Subcomponent key={id} id={id} />\n  })\n}\n\nconst Layout = React.forwardRef(({params, ...rest}, ref) => {\n  return (\n    <div ref={ref} {...rest}>\n      {renderSubcomponents(params.ids)}\n    </div>\n  );\n});\n\nregisterComponent({\n  name: 'layout',\n  component: Layout,\n  controls: [ChildAdder],\n  default: {\n    component: 'layout',\n    params: {\n      ids: []\n    },\n    style: {\n      alignItems: {active: true, value: 'center'},\n      display: {active: true, value: 'flex'},\n      flexDirection: {active: true, value: 'column'}\n    }\n  }\n});\n\nexport default Layout;\n","import React, { useEffect, useState, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { registerComponent } from './registry';\nimport styles from './YoutubeVideo.module.scss';\n\nconst YOUTUBE_SRC = \"https://www.youtube.com/iframe_api\";\n\nconst Youtube = React.forwardRef(({params, onClick, onDragOver, onDrop, style, active, ...rest}, ref) => {\n  const { t } = useTranslation();\n  const isDragging = useSelector((state) => state.components.dragging);\n  const [sdkReady, setSdkReady] = useState(false);\n  const playerRef = useRef();\n  // let player = null;\n\n  useEffect(() => {\n    if (document.querySelector(`script[src=\"${YOUTUBE_SRC}\"]`)) {\n      setSdkReady(true);\n      return;\n    }\n\n    window.onYouTubeIframeAPIReady = () => {\n      setSdkReady(true);\n    };\n\n    const youtubeScript = document.createElement(\"script\");\n    youtubeScript.src = YOUTUBE_SRC;\n    document.head.appendChild(youtubeScript);\n  }, [setSdkReady]);\n\n  useEffect(() => {\n    if (!sdkReady) {\n      return;\n    }\n\n    // Currently this code is useEffect hook is useless, but it could be the place to take\n    // actions after the YT sdk is loaded.\n    //\n    // e.g.\n    // \n    // player = new window.YT.Player(playerRef.current);\n    // player.addEventListener(\"onStateChange\", (event) => {\n    //   console.log('EVENT CODE', event.data);\n    // });\n  }, [sdkReady, playerRef]);\n\n  const containerStyle = {\n    position: 'relative'\n  }\n\n  const iframeStyle = {\n    ...style,\n    pointerEvents: (isDragging || active) ? 'none' : 'initial'\n  }\n\n  return (\n    <div ref={ref} style={containerStyle} {...rest}>\n      {!active && <div className={`${styles.EditBar}`} onClick={onClick} onDragOver={onDragOver} onDrop={onDrop}>{t('YoutubeVideo.click_to_edit')}</div>}\n      <iframe style={iframeStyle} ref={playerRef} title=\"y\" src={`https://www.youtube.com/embed/${params.code}?controls=0&enablejsapi=1`} frameBorder=\"0\" allow={`accelerometer; ${params.autoplay ? \"autoplay\" : \"\"}; encrypted-media; gyroscope; picture-in-picture`} allowFullScreen></iframe>\n    </div>\n  );\n});\n\nregisterComponent({\n  name: 'youtube',\n  component: Youtube,\n  onsite: [\n    ['code', 'text']\n  ],\n  default: {\n    component: 'youtube',\n    params: {\n      code: '4OkSsFsXLD8',\n      autoplay: false\n    },\n    style: {}\n  }\n});\n\nexport default Youtube;\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch } from \"react-redux\";\nimport actions from '../actions';\nimport styles from \"./App.module.scss\";\nimport Components from './Components';\nimport ModalStack from './Modal';\n\nimport './Text';\nimport './Image';\nimport './Layout';\nimport './YoutubeVideo';\n\nconst LangButton = ({lang}) => {\n  const dispatch = useDispatch();\n\n  return (\n    <div onClick={() => dispatch(actions.lang.setLang(lang))}>\n      {lang}\n    </div>\n  );\n}\n\nconst LangSelector = () => {\n  const langs = ['fr', 'en'];\n  const renderLangButtons = () => {\n    return langs.map((lang) => <LangButton lang={lang} />)\n  };\n\n  return (\n    <div>\n      {renderLangButtons()}\n    </div>\n  );\n}\n\nfunction App() {\n  const lang = useSelector((state) => state.lang);\n  const { i18n } = useTranslation();\n\n  useEffect(() => {\n    i18n.changeLanguage(lang);\n  }, [i18n, lang]);\n\n  return (\n    <ModalStack>\n      <div className={styles.App}>\n        {/*<LangSelector />*/}\n        <Components />\n      </div>\n    </ModalStack>\n  );\n}\n\nexport default App;\n","import { v4 as uuidv4 } from 'uuid';\nimport Actions from '../actions/componentActions';\nimport { getDefaultParamsForName } from '../components/registry';\nimport { createReducer } from '../misc/reduxtils';\nimport Store from '../misc/localstorage';\n\nconst id1 = uuidv4();\n\nconst INITIAL_STATE = {\n  active: null,\n  element: null,\n  root: id1,\n  states: {\n    [id1]: {active: false, component: 'layout', params: {ids: []}, style: {display: {active: true, value: 'flex'}, flexDirection: {active: true, value: 'column'}, padding: {active: true, value: '1em'}}},\n  },\n  dropTargetId: null,\n  dragging: false,\n  sourceComponentId: null\n};\n\nfunction cloneComponentState(id, parentId, states) {\n  // TODO : Should rely upon a clone protocol, implemented for each component type\n  // ... Something more change-proof, elegant and polymorphic than this crude \"if programming\" piece of sh*t\n  // (the same applies to the whole software :) )\n\n  const componentCloneId = uuidv4();\n\n  const componentState = states[id];\n  const componentCloneState = {...componentState, parent: parentId, params: {...componentState.params}};\n\n  if (componentState.params.ids) {\n    componentCloneState.params.ids = componentState.params.ids.map((child_id) => cloneComponentState(child_id, componentCloneId, states));\n  }\n\n  states[componentCloneId] = componentCloneState;\n\n  return componentCloneId;\n}\n\nexport default createReducer(INITIAL_STATE, {\n  [Actions.reset]: (_state, _action) => {\n    return INITIAL_STATE;\n  },\n\n  [Actions.load]: (_state, { filename }) => {\n    // TODO error handling\n    return Store.loadFromFile(filename);\n  },\n\n  [Actions.save]: (state, { filename }) => {\n    const {element: _drop, ...storableState} = state; // element is a DOM reference. Don't try to save it !\n    // TODO error handling\n    Store.saveToFile(filename, storableState);\n    return state;\n  },\n\n  [Actions.editComponent]: (state, action) => {\n    const id = action.id;\n    let newStates = {...state.states};\n\n    const oldId = state.active;\n    if (oldId) {\n      const oldComponentState = state.states[oldId];\n      newStates[oldId] = {...oldComponentState, active: false};\n    }\n\n    const oldComponentState = state.states[id];\n    newStates[id] = {...oldComponentState, active: true};\n\n    return {...state, active: id, states: newStates};\n  },\n\n  [Actions.cancelEdition]: (state, _action) => {\n    const id = state.active;\n    if (id) {\n      let newStates = {...state.states};\n      const oldComponentState = state.states[id];\n      newStates[id] = {...oldComponentState, active: false};\n      return {...state, active: null, element: null, states: newStates};\n    }\n    else {\n      return {...state, active: null, element: null};\n    }\n  },\n\n  [Actions.setParamValue]: (state, action) => {\n    const id = action.id\n    const newStates = {...state.states};\n\n    const oldComponentState = state.states[id];\n    newStates[id] = {...oldComponentState, params: {...oldComponentState.params, [action.payload.param]: action.payload.value}};\n\n    return {...state, states: newStates};\n  },\n\n  [Actions.setStyleValue]: (state, action) => {\n    const id = action.id\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n    const params = action.payload.params;\n    const oldStyle = newStates[id].style;\n    const oldProperty = oldStyle[params.property];\n    const newStyle = {...oldStyle, [params.property]: {...oldProperty, value: params.value}};\n\n    newStates[id] = {\n      ...newStates[id],\n      style: newStyle\n    }\n    return newState;\n  },\n\n  [Actions.setStyleState]: (state, action) => {\n    const id = action.id\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n    const params = action.payload.params;\n    const oldStyle = newStates[id].style;\n    const oldProperty = oldStyle[params.property];\n    const newStyle = {...oldStyle, [params.property]: {...oldProperty, active: params.active}};\n\n    newStates[id] = {\n      ...newStates[id],\n      style: newStyle\n    }\n    return newState;\n  },\n\n  [Actions.addStyle]: (state, action) => {\n    const id = action.id\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n    const params = action.payload.params;\n    const oldStyle = newStates[id].style;\n    const newStyle = {...oldStyle, [params.property]: {active: true, value: params.value}};\n\n    newStates[id] = {\n      ...newStates[id],\n      style: newStyle\n    }\n    return newState;\n  },\n\n  [Actions.deleteStyle]: (state, action) => {\n    const id = action.id\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n    const params = action.payload.params;\n    const oldStyle = newStates[id].style;\n    const {[params.property]: _, ...newStyle} = oldStyle;\n\n    newStates[id] = {\n      ...newStates[id],\n      style: newStyle\n    }\n    return newState;\n  },\n\n  [Actions.appendComponent]: (state, action) => {\n    const id = action.id\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n    const params = action.payload.params;\n    const targetComponentType = (state.states[id] && state.states[id].component)|| \"\";\n    if (targetComponentType !== 'layout') {\n      return state;\n    }\n\n    const newComponentId = uuidv4();\n    newStates[newComponentId] = {parent: id, active: false, ...getDefaultParamsForName(params.name)};\n\n    const newIds = [...newStates[id].params.ids, newComponentId];\n    newStates[id] = {\n      ...newStates[id],\n      params: {ids: newIds}\n    }\n\n    return newState;\n  },\n\n  [Actions.prependComponent]: (state, action) => {\n    const id = action.id\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n    const params = action.payload.params;\n    const targetComponentType = (state.states[id] && state.states[id].component)|| \"\";\n    if (targetComponentType !== 'layout') {\n      return state;\n    }\n\n    const newComponentId = uuidv4();\n    newStates[newComponentId] = {parent: id, active: false, ...getDefaultParamsForName(params.name)};\n\n    const newIds = [newComponentId, ...newStates[id].params.ids];\n    newStates[id] = {\n      ...newStates[id],\n      params: {ids: newIds}\n    }\n\n    return newState;\n  },\n\n  [Actions.deleteComponent]: (state, action) => {\n    const id = action.id\n    if (id === state.root) {\n      return state;\n    }\n\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n\n    if (id === newState.active) {\n      newState.active = null;\n    }\n\n    delete newStates[id];\n\n    Object.keys(newStates).forEach((k) => {\n      const componentState = newStates[k];\n      if (componentState.params.ids !== undefined) {\n        const ids = componentState.params.ids\n        const idx = ids.indexOf(id)\n        if (idx > -1) {\n          const newIds = [...ids.slice(0, idx), ...ids.slice(idx+1)];\n          newStates[k] = {...newStates[k], params: {...newStates[k].params, ids: newIds}};\n        }\n      }\n    })\n\n    let hasOrphans = true;\n    while (hasOrphans) {\n      hasOrphans = Object.keys(newStates).reduce((accIn, k) => {\n        const componentState = newStates[k];\n        if (k !== state.root && !newStates[componentState.parent]) {\n          delete newStates[k];\n          return true;\n        }\n        return accIn;\n      }, false);\n    }\n\n    return newState;\n  },\n\n  [Actions.copyComponent]: (state, _action) => {\n    const sourceComponentId = state.active\n    if (!sourceComponentId) {\n      return state;\n    }\n\n    return {...state, sourceComponentId}\n  },\n\n  [Actions.pasteComponent]: (state, _action) => {\n    const targetComponentId = state.active\n    const sourceComponentId = state.sourceComponentId\n    if (!sourceComponentId || !targetComponentId) {\n      return state;\n    }\n    \n    const parentId = state.states[targetComponentId].parent;\n    if (!parentId) {\n      return state;\n    }\n\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n\n    const parent = state.states[parentId];\n    const ids = parent.params.ids;\n    const idx = ids.indexOf(targetComponentId);\n\n    const sourceCloneId = cloneComponentState(sourceComponentId, parentId, newStates);\n\n    const newParentIds = [...newStates[parentId].params.ids];\n    newParentIds.splice(idx+1, 0, sourceCloneId);\n    newStates[parentId] = {\n      ...newStates[parentId],\n      params: {ids: newParentIds}\n    }\n\n    return newState;\n  },\n\n  [Actions.navigatePrev]: (state, _action) => {\n    const currentId = state.active\n    const currentState = state.states[currentId];\n    const parentId = currentState.parent;\n    if (!parentId) {\n      return state;\n    }\n\n    const parent = state.states[parentId];\n    const ids = parent.params.ids;\n    const idx = ids.indexOf(currentId);\n    if (idx === 0) {\n      return state;\n    }\n\n    let targetId = ids[idx-1];\n    let newStates = {...state.states};\n\n    if (currentId) {\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, active: false};\n    }\n\n    const oldComponentState = state.states[targetId];\n    newStates[targetId] = {...oldComponentState, active: true};\n\n    return {...state, active: targetId, states: newStates};\n  },\n\n  [Actions.navigateNext]: (state, action) => {\n    const currentId = state.active\n    const currentState = state.states[currentId];\n    const parentId = currentState.parent;\n    if (!parentId) {\n      return state;\n    }\n\n    const parent = state.states[parentId];\n    const ids = parent.params.ids;\n    const idx = ids.indexOf(currentId);\n    if (idx === ids.length-1) {\n      return state;\n    }\n\n    let targetId = ids[idx+1];\n    let newStates = {...state.states};\n\n    if (currentId) {\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, active: false};\n    }\n\n    const oldComponentState = state.states[targetId];\n    newStates[targetId] = {...oldComponentState, active: true};\n\n    return {...state, active: targetId, states: newStates};\n  },\n\n  [Actions.navigateUp]: (state, action) => {\n    const currentId = action.id\n    const currentState = state.states[currentId];\n    const parentId = currentState.parent;\n    if (!parentId) {\n      return state;\n    }\n\n    let targetId = parentId;\n    let newStates = {...state.states};\n\n    if (currentId) {\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, active: false};\n    }\n\n    const oldComponentState = state.states[targetId];\n    newStates[targetId] = {...oldComponentState, active: true};\n\n    return {...state, active: targetId, states: newStates};\n  },\n\n  [Actions.navigateDown]: (state, action) => {\n    const currentId = action.id;\n    const currentState = state.states[currentId];\n    if (!currentState.params.ids || currentState.params.ids.length === 0) {\n      return state;\n    }\n\n    let targetId = currentState.params.ids[0];\n    let newStates = {...state.states};\n\n    if (currentId) {\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, active: false};\n    }\n\n    const oldComponentState = state.states[targetId];\n    newStates[targetId] = {...oldComponentState, active: true};\n\n    return {...state, active: targetId, states: newStates};\n  },\n\n  [Actions.setOverlayTarget]: (state, action) => {\n    return {...state, element: action.target};\n  },\n\n  [Actions.startDrag]: (state, _action) => {\n    return {...state, dragging: true};\n  },\n\n  [Actions.dragOver]: (state, action) => {\n    if (action.id === state.dropTargetId) {\n      // Drop target stays the same, do nothing\n      return state;\n    }\n\n    let currentId = state.dropTargetId;\n    let targetId = action.id;\n    let newStates = {...state.states};\n\n    // Cannot drop inside it-self, or in a child element\n    let canDrop = true;\n    let testDropId = targetId;\n    while (canDrop && testDropId) {\n      if (testDropId === state.active) {\n        canDrop = false;\n        break;\n      }\n      testDropId = state.states[testDropId].parent;\n    }\n\n    if (!canDrop) {\n      if (! currentId) {\n        return state; // No current drop target, just leave\n      }\n\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, dropTarget: false};\n      return {...state, dropTargetId: null, states: newStates};\n    }\n\n    if (currentId) {\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, dropTarget: false};\n    }\n\n    const oldComponentState = state.states[targetId];\n    newStates[targetId] = {...oldComponentState, dropTarget: true};\n\n    return {...state, dropTargetId: targetId, states: newStates};\n  },\n\n  [Actions.drop]: (state, _action) => {\n    let newStates = {...state.states};\n    let dropTargetId = state.dropTargetId;\n\n    if (!dropTargetId) {\n      return {...state, dropTargetId: null, dragging: false};\n    }\n\n    const oldComponentState = state.states[dropTargetId];\n    newStates[dropTargetId] = {...oldComponentState, dropTarget: false};\n\n    // Find the target's parent \n    const targetParentId = oldComponentState.parent;\n    if (!targetParentId) {\n      return {...state, dropTargetId: null, dragging: false};\n    }\n\n    const movedId = state.active;\n\n    // Remove the moved node from its parent id list\n    const movedParentId = state.states[movedId].parent;\n    if (!movedParentId) {\n      return {...state, dropTargetId: null, dragging: false};\n    }\n\n    const movedParent = state.states[movedParentId];\n    const ids = movedParent.params.ids;\n    const idx = ids.indexOf(movedId);\n    if (idx === -1) {\n      return {...state, dropTargetId: null, dragging: false};\n    }\n\n    const newIds = [...ids.slice(0, idx), ...ids.slice(idx+1)];\n    newStates[movedParentId] = {...movedParent, params: {...movedParent.params, ids: newIds}};\n\n    // Insert the moved node just before the target node in the latter parent id list\n    const targetParent = newStates[targetParentId];\n    const targetParentIds = targetParent.params.ids\n    const idx1 = targetParentIds.indexOf(dropTargetId)\n    if (idx1 === -1) {\n      return {...state, dropTargetId: null, dragging: false};\n    }\n\n    const newIds1 = [...targetParentIds.slice(0, idx1), movedId, ...targetParentIds.slice(idx1)];\n    newStates[targetParentId] = {...targetParent, params: {...targetParent.params, ids: newIds1}};\n\n    // Update moved node parent\n    const moved = state.states[movedId];\n    newStates[movedId] = {...moved, parent: targetParentId};\n\n    return {...state, dropTargetId: null, states: newStates, dragging: false};\n  }\n});\n","import { SET_LANG } from '../constants/action-types';\n\nconst INITIAL_STATE = 'fr';\n\nfunction langReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case SET_LANG:\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\n\nexport default langReducer;\n","import * as Actions from '../constants/action-types';\n\nconst INITIAL_STATE = null;\n\nfunction editorReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    default:\n      return state;\n  }\n};\n\nexport default editorReducer;\n","import { combineReducers } from 'redux';\nimport componentsReducer from './componentsReducer';\nimport langReducer from './langReducer';\nimport editorReducer from './editorReducer';\nimport { cascadeReducers } from '../misc/reduxtils';\n\nconst rootReducer = combineReducers({\n  components: componentsReducer,\n  lang: langReducer,\n  editor: editorReducer\n});\n\nconst logReducer = (state, action) => {\n  if (window.debug) {\n    console.log('action', action);\n  }\n  return state;\n};\n\nexport default cascadeReducers(logReducer, rootReducer);\n","import { createStore } from 'redux';\nimport rootReducer from \"../reducers/index\";\nimport actions from '../actions';\n\nimport Store from '../misc/localstorage';\nimport HARDCODED_SAVED_DATA from '../misc/movies';\n\nStore.saveToFile('default', JSON.parse(HARDCODED_SAVED_DATA));\n\nconst store = createStore(rootReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nstore.dispatch(actions.component.load('default'));\n\nexport default store;\n","export default '{\"active\":\"1153d338-428d-4400-8d1c-d8a1d272eb17\",\"root\":\"b5d02377-f7d7-469e-b92d-8bf78522a76f\",\"states\":{\"b5d02377-f7d7-469e-b92d-8bf78522a76f\":{\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"15cb2923-16b0-414e-a53b-d1065f443988\",\"70f95df6-f794-4738-be59-9a6b0d8645b6\"]},\"style\":{\"flexDirection\":{\"value\":\"column\",\"active\":true},\"display\":{\"value\":\"flex\",\"active\":true},\"--panelShadow\":{\"value\":\"8px 8px 16px #6e6457\",\"active\":true},\"maxWidth\":{\"value\":\"100%\",\"active\":true},\"--maxHeight\":{\"active\":true,\"value\":\"1000px\"}}},\"800b3628-fe62-4e14-90e0-2ac4f7e50234\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"ab28cfd3-9289-41f6-8b24-220fc1074f32\",\"c4ef5937-4ba0-43d0-bc94-551adb4f2638\"]},\"dropTarget\":false,\"style\":{\"alignItems\":{\"value\":\"center\",\"active\":true},\"display\":{\"value\":\"flex\",\"active\":true},\"flexDirection\":{\"value\":\"column\",\"active\":true},\"padding\":{\"value\":\"1em\",\"active\":true},\"boxShadow\":{\"value\":\"var(--panelShadow)\",\"active\":true},\"marginRight\":{\"value\":\"1em\",\"active\":true},\"position\":{\"value\":\"relative\",\"active\":true}}},\"936f047f-45bf-4804-a638-8678f1f997cd\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"c991db7b-95a5-43fa-a98a-2de1ca57f01c\"]},\"dropTarget\":false,\"style\":{\"alignItems\":{\"value\":\"center\",\"active\":true},\"display\":{\"value\":\"flex\",\"active\":true},\"flexDirection\":{\"value\":\"column\",\"active\":true},\"padding\":{\"value\":\"1em\",\"active\":true},\"boxShadow\":{\"value\":\"var(--panelShadow)\",\"active\":true},\"marginRight\":{\"value\":\"1em\",\"active\":true}}},\"c991db7b-95a5-43fa-a98a-2de1ca57f01c\":{\"parent\":\"936f047f-45bf-4804-a638-8678f1f997cd\",\"active\":false,\"component\":\"image\",\"params\":{\"url\":\"https://m.media-amazon.com/images/M/MV5BZWIxNzM5YzQtY2FmMS00Yjc3LWI1ZjUtNGVjMjMzZTIxZTIxXkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_SY1000_CR0,0,671,1000_AL_.jpg\"},\"style\":{}},\"c4ef5937-4ba0-43d0-bc94-551adb4f2638\":{\"parent\":\"800b3628-fe62-4e14-90e0-2ac4f7e50234\",\"active\":false,\"component\":\"image\",\"params\":{\"url\":\"https://m.media-amazon.com/images/M/MV5BZjRlNDUxZjAtOGQ4OC00OTNlLTgxNmQtYTBmMDgwZmNmNjkxXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SY1000_CR0,0,666,1000_AL_.jpg\"},\"dropTarget\":false,\"style\":{}},\"e0c27bec-0e90-4422-869a-76740471165f\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"432c5067-4b29-4e2f-b5da-4510bee3f225\"]},\"dropTarget\":false,\"style\":{\"alignItems\":{\"value\":\"center\",\"active\":true},\"display\":{\"value\":\"flex\",\"active\":true},\"flexDirection\":{\"value\":\"column\",\"active\":true},\"padding\":{\"value\":\"1em\",\"active\":true},\"boxShadow\":{\"value\":\"var(--panelShadow)\",\"active\":true},\"marginRight\":{\"value\":\"1em\",\"active\":true}}},\"432c5067-4b29-4e2f-b5da-4510bee3f225\":{\"parent\":\"e0c27bec-0e90-4422-869a-76740471165f\",\"active\":false,\"component\":\"image\",\"params\":{\"url\":\"https://m.media-amazon.com/images/M/MV5BMjM1NjE5NjQxN15BMl5BanBnXkFtZTgwMjYzMzQxMDE@._V1_.jpg\"},\"style\":{}},\"1153d338-428d-4400-8d1c-d8a1d272eb17\":{\"parent\":\"15cb2923-16b0-414e-a53b-d1065f443988\",\"active\":true,\"component\":\"text\",\"params\":{\"text\":\"Movies Hall of Fame\"},\"dropTarget\":false,\"style\":{\"fontSize\":{\"value\":\"3em\",\"active\":true}}},\"70f95df6-f794-4738-be59-9a6b0d8645b6\":{\"parent\":\"b5d02377-f7d7-469e-b92d-8bf78522a76f\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"800b3628-fe62-4e14-90e0-2ac4f7e50234\",\"936f047f-45bf-4804-a638-8678f1f997cd\",\"e0c27bec-0e90-4422-869a-76740471165f\",\"8cdc9fe2-4a32-4476-9926-b6fb289eb897\",\"e457f4da-ea0d-4a21-b80d-de5946b0a7d4\",\"9563c4b2-5a66-4bc9-9dcf-c2fa87bd2bfb\",\"839e2161-3121-4a4b-a6da-45960d39cc1d\",\"f9e7afe3-7e80-4080-8c77-9f8b91efa129\",\"7c02f15c-78dd-4fb7-aa12-7c27968fe6d1\"]},\"dropTarget\":false,\"style\":{\"alignItems\":{\"value\":\"center\",\"active\":true},\"display\":{\"value\":\"flex\",\"active\":true},\"flexDirection\":{\"value\":\"row\",\"active\":true},\"paddingTop\":{\"value\":\"1em\",\"active\":true},\"maxWidth\":{\"value\":\"100%\",\"active\":true},\"overflow\":{\"value\":\"scroll\",\"active\":true}}},\"7c02f15c-78dd-4fb7-aa12-7c27968fe6d1\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"text\",\"params\":{\"text\":\" ...\"},\"dropTarget\":false,\"style\":{\"padding\":{\"value\":\"1em\",\"active\":true}}},\"8cdc9fe2-4a32-4476-9926-b6fb289eb897\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"313d10e7-3896-400c-badb-7a594f0390d4\"]},\"dropTarget\":false,\"style\":{\"alignItems\":{\"value\":\"center\",\"active\":true},\"display\":{\"value\":\"flex\",\"active\":true},\"flexDirection\":{\"value\":\"column\",\"active\":true},\"marginRight\":{\"value\":\"1em\",\"active\":true},\"boxShadow\":{\"value\":\"var(--panelShadow)\",\"active\":true},\"padding\":{\"value\":\"1em\",\"active\":true}}},\"313d10e7-3896-400c-badb-7a594f0390d4\":{\"parent\":\"8cdc9fe2-4a32-4476-9926-b6fb289eb897\",\"active\":false,\"component\":\"image\",\"params\":{\"url\":\"https://m.media-amazon.com/images/M/MV5BNzhlMTRlYmMtYjliYy00OTMzLWJlN2ItYmYyNjc4YzBjM2QwXkEyXkFqcGdeQXVyNjA0Mzc0MzI@._V1_SY1000_CR0,0,742,1000_AL_.jpg\"},\"style\":{}},\"15cb2923-16b0-414e-a53b-d1065f443988\":{\"parent\":\"b5d02377-f7d7-469e-b92d-8bf78522a76f\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"0cf9d50f-aac6-4849-b497-79eff2b520b7\",\"1153d338-428d-4400-8d1c-d8a1d272eb17\",\"958210a9-66f8-4be3-86d6-6e7cfeeda04a\"]},\"dropTarget\":false,\"style\":{\"alignItems\":{\"value\":\"center\",\"active\":true},\"display\":{\"value\":\"flex\",\"active\":true},\"flexDirection\":{\"value\":\"row\",\"active\":true},\"justifyContent\":{\"value\":\"space-around\",\"active\":true}}},\"0cf9d50f-aac6-4849-b497-79eff2b520b7\":{\"parent\":\"15cb2923-16b0-414e-a53b-d1065f443988\",\"active\":false,\"component\":\"youtube\",\"params\":{\"code\":\"4OkSsFsXLD8\",\"autoplay\":true},\"style\":{}},\"958210a9-66f8-4be3-86d6-6e7cfeeda04a\":{\"parent\":\"15cb2923-16b0-414e-a53b-d1065f443988\",\"active\":false,\"component\":\"youtube\",\"params\":{\"code\":\"eYfpSAxGakI\",\"autoplay\":true},\"style\":{}},\"ab28cfd3-9289-41f6-8b24-220fc1074f32\":{\"parent\":\"800b3628-fe62-4e14-90e0-2ac4f7e50234\",\"active\":false,\"component\":\"text\",\"params\":{\"text\":\" Breath taking Action !\"},\"style\":{\"whiteSpace\":{\"value\":\"pre-line\",\"active\":true},\"position\":{\"value\":\"absolute\",\"active\":true},\"background\":{\"value\":\"rgba(255, 0, 0, 0.8)\",\"active\":true},\"height\":{\"value\":\"7em\",\"active\":true},\"display\":{\"value\":\"flex\",\"active\":true},\"justifyContent\":{\"value\":\"center\",\"active\":true},\"alignItems\":{\"value\":\"center\",\"active\":true},\"width\":{\"value\":\"7em\",\"active\":true},\"borderRadius\":{\"value\":\"50%\",\"active\":true},\"transform\":{\"value\":\"rotate(35deg)\",\"active\":true},\"right\":{\"value\":\"1.5em\",\"active\":true},\"top\":{\"value\":\"2.5em\",\"active\":true},\"fontSize\":{\"value\":\"2em\",\"active\":true},\"lineHeight\":{\"value\":\"2em\",\"active\":true},\"color\":{\"value\":\"yellow\",\"active\":true},\"boxShadow\":{\"value\":\"var(--panelShadow)\",\"active\":true}}},\"e457f4da-ea0d-4a21-b80d-de5946b0a7d4\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"f67ca087-6bbf-4667-a750-9b88c526b93e\"]},\"style\":{\"alignItems\":{\"value\":\"center\",\"active\":true},\"display\":{\"value\":\"flex\",\"active\":true},\"flexDirection\":{\"value\":\"column\",\"active\":true},\"boxShadow\":{\"value\":\"var(--panelShadow)\",\"active\":true},\"padding\":{\"value\":\"1em\",\"active\":true},\"marginRight\":{\"active\":true,\"value\":\"1em\"}}},\"f67ca087-6bbf-4667-a750-9b88c526b93e\":{\"parent\":\"e457f4da-ea0d-4a21-b80d-de5946b0a7d4\",\"active\":false,\"component\":\"image\",\"params\":{\"url\":\"https://m.media-amazon.com/images/M/MV5BNzQzMzJhZTEtOWM4NS00MTdhLTg0YjgtMjM4MDRkZjUwZDBlXkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_SY1000_CR0,0,671,1000_AL_.jpg\"},\"style\":{}},\"9563c4b2-5a66-4bc9-9dcf-c2fa87bd2bfb\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"6ce1bc90-9425-4f72-9f53-8d3fdb8762da\"]},\"style\":{\"alignItems\":{\"active\":true,\"value\":\"center\"},\"display\":{\"active\":true,\"value\":\"flex\"},\"flexDirection\":{\"active\":true,\"value\":\"column\"},\"boxShadow\":{\"active\":true,\"value\":\"var(--panelShadow)\"},\"marginRight\":{\"active\":true,\"value\":\"1em\"},\"padding\":{\"active\":true,\"value\":\"1em\"}}},\"6ce1bc90-9425-4f72-9f53-8d3fdb8762da\":{\"parent\":\"9563c4b2-5a66-4bc9-9dcf-c2fa87bd2bfb\",\"active\":false,\"component\":\"image\",\"params\":{\"url\":\"https://m.media-amazon.com/images/M/MV5BMjA0ODEzMTc1Nl5BMl5BanBnXkFtZTcwODM2MjAxNA@@._V1_UX1021_.jpg\"},\"style\":{\"maxHeight\":{\"active\":true,\"value\":\"var(--maxHeight)\"}}},\"062be00f-57fe-465d-8d12-7f855dd283fe\":{\"parent\":\"839e2161-3121-4a4b-a6da-45960d39cc1d\",\"active\":false,\"component\":\"image\",\"params\":{\"url\":\"https://m.media-amazon.com/images/M/MV5BNzc3OGExYzYtMGE0NS00YmVlLWEzOWQtNTZiMjkxZWMzYzQ1XkEyXkFqcGdeQXVyNTIzOTk5ODM@._V1_UX836_.jpg\"},\"style\":{\"maxHeight\":{\"active\":true,\"value\":\"var(--maxHeight)\"}}},\"839e2161-3121-4a4b-a6da-45960d39cc1d\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"062be00f-57fe-465d-8d12-7f855dd283fe\"]},\"style\":{\"alignItems\":{\"active\":true,\"value\":\"center\"},\"display\":{\"active\":true,\"value\":\"flex\"},\"flexDirection\":{\"active\":true,\"value\":\"column\"},\"boxShadow\":{\"active\":true,\"value\":\"var(--panelShadow)\"},\"marginRight\":{\"active\":true,\"value\":\"1em\"},\"padding\":{\"active\":true,\"value\":\"1em\"}}},\"dd8c7c12-1b76-4012-b8fb-fb9f1d3856e2\":{\"parent\":\"f9e7afe3-7e80-4080-8c77-9f8b91efa129\",\"active\":false,\"component\":\"image\",\"params\":{\"url\":\"https://m.media-amazon.com/images/M/MV5BMTg0NjEwNjUxM15BMl5BanBnXkFtZTcwMzk0MjQ5Mg@@._V1_UX1205_.jpg\"},\"dropTarget\":false,\"style\":{\"maxHeight\":{\"active\":true,\"value\":\"var(--maxHeight)\"}}},\"f9e7afe3-7e80-4080-8c77-9f8b91efa129\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"dd8c7c12-1b76-4012-b8fb-fb9f1d3856e2\",\"bdceb969-2a64-4a8d-bb19-c1a17e297d9d\"]},\"dropTarget\":false,\"style\":{\"alignItems\":{\"value\":\"center\",\"active\":true},\"display\":{\"value\":\"flex\",\"active\":true},\"flexDirection\":{\"value\":\"column\",\"active\":true},\"padding\":{\"value\":\"1em\",\"active\":true},\"boxShadow\":{\"value\":\"var(--panelShadow)\",\"active\":true},\"marginRight\":{\"value\":\"1em\",\"active\":true},\"position\":{\"value\":\"relative\",\"active\":true}}},\"bdceb969-2a64-4a8d-bb19-c1a17e297d9d\":{\"parent\":\"f9e7afe3-7e80-4080-8c77-9f8b91efa129\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"7f43e5e1-d3f4-475e-a90e-f0b2ed1f1ddb\"]},\"style\":{\"alignItems\":{\"active\":true,\"value\":\"center\"},\"display\":{\"active\":true,\"value\":\"flex\"},\"flexDirection\":{\"active\":true,\"value\":\"column\"},\"position\":{\"active\":true,\"value\":\"absolute\"},\"height\":{\"active\":true,\"value\":\"260px\"},\"overflow\":{\"active\":true,\"value\":\"hidden\"},\"borderRadius\":{\"active\":true,\"value\":\"50%\"},\"transform\":{\"active\":true,\"value\":\"rotate(25deg)\"},\"right\":{\"active\":true,\"value\":\"1.5em\"},\"top\":{\"active\":true,\"value\":\"55%\"}}},\"7f43e5e1-d3f4-475e-a90e-f0b2ed1f1ddb\":{\"parent\":\"bdceb969-2a64-4a8d-bb19-c1a17e297d9d\",\"active\":false,\"component\":\"image\",\"params\":{\"url\":\"https://image.shutterstock.com/image-vector/detective-hat-icon-silhouette-vector-260nw-574841347.jpg\"},\"style\":{}}},\"dropTargetId\":null,\"dragging\":false,\"sourceComponentId\":\"800b3628-fe62-4e14-90e0-2ac4f7e50234\"}'\n","const enTranslations = {\n  \"CopyPaste\": {\n    \"title\": \"copy/paste\"\n  },\n\n  \"Editor\": {\n    \"title\": \"editor\"\n  },\n\n  \"Navigator\": {\n    \"navigate\": \"navigate\"\n  },\n\n  \"Adder\": {\n    \"add\": \"add\",\n    \"choose_a_component\": \"choose a component\"\n  },\n\n  \"YesNo\": {\n    \"yes\": \"yes\",\n    \"no\": \"no\"\n  },\n\n  \"Properties\": {\n    \"select_component\": \"pick a component\",\n    \"title\": \"properties\"\n  },\n\n  \"YoutubeVideo\": {\n    \"click_to_edit\": \"click to edit\"\n  }\n};\n\nexport default enTranslations;\n\n","const frTranslations = {\n  \"CopyPaste\": {\n    \"title\": \"copier/coller\"\n  },\n\n  \"Editor\": {\n    \"title\": \"editeur\"\n  },\n\n  \"Navigator\": {\n    \"navigate\": \"naviguer\"\n  },\n\n  \"Adder\": {\n    \"add\": \"ajouter\",\n    \"choose_a_component\": \"choisissez un composant\"\n  },\n\n  \"YesNo\": {\n    \"yes\": \"oui\",\n    \"no\": \"non\"\n  },\n\n  \"Properties\": {\n    \"select_component\": \"slectionnez un composant\",\n    \"title\": \"proprits\"\n  },\n\n  \"YoutubeVideo\": {\n    \"click_to_edit\": \"cliquer pour diter\"\n  }\n};\n  \nexport default frTranslations;\n\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport enTranslations from './en-translations';\nimport frTranslations from './fr-translations';\n\ni18n\n  .use(initReactI18next)\n  .init({\n    resources: {\n      en: {\n        translations: enTranslations,\n      },\n      fr: {\n        translations: frTranslations,\n      },\n    },\n    fallbackLng: 'en',\n    debug: true,\n    ns: ['translations'],\n    defaultNS: 'translations',\n    keySeparator: '.',\n    interpolation: {\n      escapeValue: false,\n    },\n  });\n\nexport default i18n;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\nimport App from './components/App';\nimport store from './store';\nimport './translations/i18n';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\nwindow.store = store;\n"],"sourceRoot":""}