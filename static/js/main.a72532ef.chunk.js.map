{"version":3,"sources":["components/ControlPanel.module.scss","components/Properties.module.scss","components/Toolbar.module.scss","components/Tree.module.scss","components/Overlay.module.scss","components/controls/controls.module.scss","components/Selector.module.scss","components/Components.module.scss","components/common.module.scss","components/App.module.scss","components/Modal.module.scss","components/YoutubeVideo.module.scss","serviceWorker.js","actions/langActions.js","constants/action-types.js","misc/reduxtils.js","actions/componentActions.js","actions/index.js","actions/editorActions.js","misc/utils.js","components/controls/Cross.js","components/controls/YesNo.js","components/controls/Delete.js","components/controls/Navigator.js","components/registry.js","components/Properties.js","components/Selector.js","components/Tree.js","components/Modal.js","misc/localstorage.js","components/ControlPanel.js","components/EditorFrame.js","components/Overlay.js","components/Toolbar.js","components/Components.js","components/Text.js","components/Image.js","components/controls/ChildAdder.js","components/Layout.js","components/YoutubeVideo.js","components/App.js","reducers/componentsReducer.js","reducers/langReducer.js","reducers/editorReducer.js","reducers/index.js","store/index.js","misc/movies.js","translations/en-translations.js","translations/fr-translations.js","translations/i18n.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","setLang","lang","type","payload","createAction","name","fn","actionFn","res","arguments","toString","reset","load","filename","save","editComponent","id","cancelEdition","setParamValue","param","value","setStyleValue","property","params","addStyle","deleteStyle","appendComponent","prependComponent","deleteComponent","navigatePrev","navigateNext","navigateUp","navigateDown","setOverlayTarget","target","startDrag","dragOver","drop","actions","langActions","component","componentActions","editor","buildEventHandlerWrapper","e","stopPropagation","noop","Cross","dispatch","useDispatch","clickEventHandler","onClick","className","commonStyle","toolbar_button","styles","icon","YesNo","onYes","onNo","t","useTranslation","yesno","toolbar_button_group","Delete","useState","showYesNo","setShowYesNo","useEffect","Navigator","toolbar_button_section","toolbar_button_section_title","components","registerComponent","declaration","props","controls","rest","getRecordForName","getComponentForName","getDefaultParamsForName","default","PropertyEditor","k","v","setValue","onKeyPress","event","key","onChange","PropertyList","style","useSelector","state","states","Object","entries","map","AddPropertyPanel","setProperty","PropertyAdder","Properties","activeComponentId","active","LabelSelectComponent","SelectorListEntry","text","onSelected","ListItem","Selector","list","onSelect","onCancel","selected","setSelected","onListEntryClicked","List","item","idx","console","log","Tree","tree","root","renderSubcomponents","Subcomponents","ids","subId","renderComponent","compoDesc","Component","ModalContext","React","createContext","push","pop","ModalStack","children","modals","setModals","modal","tail","Provider","length","Comp","renderModals","Store","listFilenames","filenames","localStorage","getItem","JSON","parse","loadFromFile","filecontent","saveToFile","object","mangledFilename","stringify","setItem","filenamesBucketContent","newFilenames","includes","newFilenamesBucketContent","Row","Group","title","GroupTitle","GroupContent","Item","SaveButton","useContext","saveFile","Button","OpenButton","loadFile","NewButton","ControlPanel","showBar","setShowBar","rotate","hamburger_button","EditorFrame","dropTarget","getEditorForName","componentEl","setComponentEl","useLayoutEffect","useMemo","newStyle","background","createElement","onDragOver","preventDefault","onDrop","ref","parseMetricProp","suffix","parseInt","substring","useDOMRect","element","withMargin","rect","setRect","refElementRectList","getClientRects","refElementRect","overlayRect","adjustRectWithMargin","refresherId","setInterval","newRectList","newRect","oldRect","identicalRect","REFRESH_DELAY_MS","clearInterval","getComputedStyle","mt","getPropertyValue","ml","mb","mr","left","top","width","height","r1","r2","Overlay","refElement","position","refPosition","setStyle","minWidth","minHeight","draggable","onDragStart","edit","OverlayHeader","OverlayContent","Toolbar","getControlsForName","unfold","fold","c","tool","ComponentOnsiteEditor","clazz","onsite","url","handleChangeFn","renderOnSiteEditors","ComponentToolbar","TextInputField","setText","border","borderRadius","outline","padding","pointerEvents","zIndex","onKeyDown","keyCode","Components","stateComponentsRoot","stateComponentsStatesRoot","Editor","Header","Text","forwardRef","contentEditable","suppressContentEditableWarning","onBlur","currentTarget","innerHTML","replace","Image","src","alt","TypeSelector","chooseComponent","keys","ChildAdder","componentName","setComponentName","isValidComponent","inactive","undefined","Subcomponent","Layout","alignItems","display","flexDirection","YOUTUBE_SRC","Youtube","isDragging","dragging","sdkReady","setSdkReady","playerRef","useRef","document","querySelector","onYouTubeIframeAPIReady","youtubeScript","head","appendChild","iframeStyle","EditBar","code","frameBorder","allow","autoplay","allowFullScreen","App","i18n","changeLanguage","id1","uuidv4","INITIAL_STATE","dropTargetId","createReducer","initialState","reducers","action","reducerFn","Actions","_state","_action","storableState","newStates","oldId","oldComponentState","newState","oldStyle","newComponentId","parent","newIds","forEach","componentState","indexOf","slice","hasOrphans","reduce","accIn","currentId","parentId","targetId","currentState","canDrop","testDropId","targetParentId","movedId","movedParentId","movedParent","targetParent","targetParentIds","idx1","newIds1","moved","langReducer","editorReducer","cascadeReducers","fns","stateIn","reducer","debug","combineReducers","componentsReducer","store","createStore","rootReducer","__REDUX_DEVTOOLS_EXTENSION__","enTranslations","frTranslations","use","initReactI18next","init","resources","en","translations","fr","fallbackLng","ns","defaultNS","keySeparator","interpolation","escapeValue","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.a72532ef.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ControlPanel\":\"ControlPanel_ControlPanel__1jrVZ\",\"Row\":\"ControlPanel_Row__1-QAu\",\"Group\":\"ControlPanel_Group__3GyCl\",\"GroupTitle\":\"ControlPanel_GroupTitle__1PbQE\",\"GroupContent\":\"ControlPanel_GroupContent__rqcOH\",\"Item\":\"ControlPanel_Item__3hm3-\",\"Button\":\"ControlPanel_Button__2Xxr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Properties\":\"Properties_Properties__1tHcE\",\"LabelSelectComponent\":\"Properties_LabelSelectComponent__3-9DL\",\"PropertyList\":\"Properties_PropertyList__XtcIy\",\"PropertyEditor\":\"Properties_PropertyEditor__3Cwn8\",\"PropertyAdder\":\"Properties_PropertyAdder__2e4nj\",\"hamburger_button\":\"Properties_hamburger_button__2xN9D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Toolbar\":\"Toolbar_Toolbar__3XXhw\",\"controls\":\"Toolbar_controls__nhc29\",\"fold\":\"Toolbar_fold__Lw8cF\",\"tool\":\"Toolbar_tool__T-QD-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Tree\":\"Tree_Tree__1cu2W\",\"Component\":\"Tree_Component__3KUwr\",\"Subcomponents\":\"Tree_Subcomponents__1Nqst\",\"active\":\"Tree_active__3_dcM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Overlay_Overlay__ikYeb\",\"edit\":\"Overlay_edit__15e2J\",\"OverlayHeader\":\"Overlay_OverlayHeader__1F06H\",\"OverlayContent\":\"Overlay_OverlayContent__10vyg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"controls_icon__1yj9p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"common\":\"Selector_common__Q3nuI\",\"Selector\":\"Selector_Selector__dD-zg Selector_common__Q3nuI\",\"List\":\"Selector_List__1YuQh Selector_common__Q3nuI\",\"ListItem\":\"Selector_ListItem__3f6KA Selector_common__Q3nuI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Editor\":\"Components_Editor__2Cc94\",\"Header\":\"Components_Header__YJ_Qb\",\"Components\":\"Components_Components__32FoM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbar_button_section\":\"common_toolbar_button_section__2_jXe\",\"toolbar_button_section_title\":\"common_toolbar_button_section_title__27_MQ\",\"toolbar_button_group\":\"common_toolbar_button_group__38Q6T\",\"toolbar_button\":\"common_toolbar_button__3oTw7\",\"inactive\":\"common_inactive__2vugK\",\"rotate\":\"common_rotate__1BgsA\",\"yesno\":\"common_yesno__14j8X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__rq8wc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ModalStack\":\"Modal_ModalStack__3tcyB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"EditBar\":\"YoutubeVideo_EditBar__Nlq48\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { SET_LANG } from '../constants/action-types'; \n\nconst setLang = (lang) => {\n  return {\n    type: SET_LANG,\n    payload: lang,\n  };\n};\n\nexport default {\n  setLang\n}\n","export const RESET = 'RESET';\n\nexport const LOAD = 'LOAD';\nexport const SAVE = 'SAVE';\n\nexport const SET_LANG = 'SET_LANG';\n\nexport const SET_PARAM_VALUE = 'SET_PARAM_VALUE';\n\nexport const EDIT_COMPONENT = 'EDIT_COMPONENT';\nexport const CANCEL_EDITION = 'CANCEL_EDITION';\n\nexport const SET_STYLE_VALUE = 'SET_STYLE_VALUE';\nexport const ADD_STYLE = 'ADD_STYLE';\nexport const DELETE_STYLE = 'DELETE_STYLE';\n\nexport const APPEND_COMPONENT = 'APPEND_COMPONENT';\nexport const PREPEND_COMPONENT = 'PREPEND_COMPONENT';\n\nexport const DELETE_COMPONENT = 'DELETE_COMPONENT';\n\nexport const NAVIGATE_PREV = 'NAVIGATE_PREV';\nexport const NAVIGATE_NEXT = 'NAVIGATE_NEXT';\nexport const NAVIGATE_UP = 'NAVIGATE_UP';\nexport const NAVIGATE_DOWN = 'NAVIGATE_DOWN';\n\nexport const SET_OVERLAY_TARGET = 'SET_OVERLAY_TARGET';\n\nexport const START_DRAG = 'START_DRAG';\nexport const DRAG_OVER = 'DRAG_OVER';\nexport const DROP = 'DROP';\n","export function createAction(name, fn = () => ({})) {\n  // No arrow function here !\n  // Parameters must be bound at run time, not lexically.\n  const actionFn = function() {\n    const res = fn(...arguments);\n    return {...res, type: name};\n  }\n  actionFn.toString = () => name;\n\n  return actionFn;\n}\n\nexport function createReducer(initialState, reducers) {\n  return (state = initialState, action) => {\n    const reducerFn = reducers[action.type];\n    return reducerFn ? reducerFn(state, action) : state;\n  }\n}\n\nexport function cascadeReducers() {\n  const fns = [...arguments];\n  return (state, action) =>\n    fns.reduce((stateIn, reducer) => reducer(stateIn, action), state)\n}\n","import * as ActionTypes from '../constants/action-types'; \nimport { createAction } from '../misc/reduxtils';\n\nconst reset = createAction(ActionTypes.RESET);\n\nconst load = createAction(ActionTypes.LOAD, (filename) => {\n  return {\n    filename\n  }\n});\n\nconst save = createAction(ActionTypes.SAVE, (filename) => {\n  return {\n    filename\n  }\n});\n\nconst editComponent = createAction(ActionTypes.EDIT_COMPONENT, (id) => {\n  return { \n    id\n  };\n});\n\nconst cancelEdition = createAction(ActionTypes.CANCEL_EDITION);\n\nconst setParamValue = createAction(ActionTypes.SET_PARAM_VALUE, (id, param, value) => {\n  return {\n    id,\n    payload: { param, value }\n  };\n});\n\nconst setStyleValue = createAction(ActionTypes.SET_STYLE_VALUE, (id, property, value) => {\n  return {\n    id,\n    payload: { params: { property, value } }\n  }\n});\n\nconst addStyle = createAction(ActionTypes.ADD_STYLE, (id, property, value) => {\n  return {\n    id,\n    payload: { params: { property, value } }\n  }\n});\n\nconst deleteStyle = createAction(ActionTypes.DELETE_STYLE, (id, property) => {\n  return {\n    id,\n    payload: { params: { property } }\n  }\n});\n\nconst appendComponent = createAction(ActionTypes.APPEND_COMPONENT, (id, name) => {\n  return {\n    id,\n    payload: { params: { name } }\n  }\n});\n\nconst prependComponent = createAction(ActionTypes.PREPEND_COMPONENT, (id, name) => {\n  return {\n    id,\n    payload: { params: { name } }\n  }\n});\n\nconst deleteComponent = createAction(ActionTypes.DELETE_COMPONENT, (id, name) => {\n  return {\n    id,\n    payload: {}\n  }\n});\n\nconst navigatePrev = createAction(ActionTypes.NAVIGATE_PREV, (id) => {\n  return {\n    id\n  }\n});\n\nconst navigateNext = createAction(ActionTypes.NAVIGATE_NEXT, (id) => {\n  return {\n    id\n  }\n});\n\nconst navigateUp = createAction(ActionTypes.NAVIGATE_UP, (id) => {\n  return {\n    id\n  }\n});\n\nconst navigateDown = createAction(ActionTypes.NAVIGATE_DOWN, (id) => {\n  return {\n    id\n  }\n});\n\nconst setOverlayTarget = createAction(ActionTypes.SET_OVERLAY_TARGET, (target) => {\n  return {\n    target\n  }\n});\n\nconst startDrag = createAction(ActionTypes.START_DRAG);\n\nconst dragOver = createAction(ActionTypes.DRAG_OVER, (id) => {\n  return {\n    id\n  }\n});\n\nconst drop = createAction(ActionTypes.DROP, (id) => {\n  return {\n    id\n  }\n});\n\nexport default {\n  reset,\n  load,\n  save,\n  editComponent,\n  cancelEdition,\n  setParamValue,\n  setStyleValue,\n  addStyle,\n  deleteStyle,\n  appendComponent,\n  prependComponent,\n  deleteComponent,\n  navigatePrev,\n  navigateNext,\n  navigateUp,\n  navigateDown,\n  setOverlayTarget,\n  startDrag,\n  dragOver,\n  drop\n}\n","import langActions from \"./langActions\";\nimport componentActions from \"./componentActions\";\nimport editorActions from \"./editorActions\";\n\nconst actions = {\n  lang: langActions,\n  component: componentActions,\n  editor: editorActions\n};\n\nexport default actions;\n","import * as ActionTypes from '../constants/action-types'; \n\nexport default {\n}\n","export const buildEventHandlerWrapper = (fn) => {\n  return (e) => {\n    e.stopPropagation();\n    fn()\n  }\n};\n\nexport const noop = () => {};\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { FaTimesCircle } from 'react-icons/fa';\nimport { buildEventHandlerWrapper } from '../../misc/utils';\nimport actions from '../../actions';\nimport commonStyle from '../common.module.scss';\nimport styles from './controls.module.scss';\n\nconst Cross = () => {\n  const dispatch = useDispatch();\n  const cancelEdition = () => dispatch(actions.component.cancelEdition());\n  const clickEventHandler = buildEventHandlerWrapper(cancelEdition);\n\n  return (\n    <div onClick={clickEventHandler} className={`${commonStyle.toolbar_button} ${styles.icon}`}><FaTimesCircle /></div>\n  )\n};\n  \nexport default Cross;\n","import React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport commonStyle from '../common.module.scss';\n\nconst YesNo = ({onYes, onNo}) => {\n  const {t} = useTranslation();\n\n  return (\n    <div className={`${commonStyle.yesno} ${commonStyle.toolbar_button_group}`}>\n      <div className={`${commonStyle.toolbar_button}`} onClick={onYes}>{t('YesNo.yes')}</div>\n      <div className={`${commonStyle.toolbar_button}`} onClick={onNo}>{t('YesNo.no')}</div>\n    </div>\n  );\n}\n\nexport default YesNo;\n","import React, {useEffect, useState} from 'react';\nimport { useDispatch } from 'react-redux';\nimport { FaTrashAlt } from 'react-icons/fa';\nimport YesNo, {withYesNo} from './YesNo';\nimport actions from '../../actions';\nimport commonStyle from '../common.module.scss';\nimport styles from './controls.module.scss';\n\nconst Delete = ({id}) => {\n  const [showYesNo, setShowYesNo] = useState(false);\n  const dispatch = useDispatch();\n  const deleteComponent = () => dispatch(actions.component.deleteComponent(id));\n\n  useEffect(() => {\n    setShowYesNo(false);\n  }, [id]);\n\n  const cancelDelete = () => setShowYesNo(false);\n  const doDelete = () => {\n    deleteComponent();\n    setShowYesNo(false);\n  };\n\n  return (\n    <div>\n      <div onClick={() => setShowYesNo(!showYesNo)} className={`${commonStyle.toolbar_button} ${styles.icon}`}>\n        <FaTrashAlt />\n      </div>\n      {showYesNo && <YesNo onYes={doDelete} onNo={cancelDelete} />}\n    </div>\n  )\n};\n  \nexport default Delete;\n","import React from 'react';\nimport {useDispatch} from 'react-redux';\nimport {useTranslation} from 'react-i18next';\nimport {FaRegArrowAltCircleLeft, FaRegArrowAltCircleRight, FaRegArrowAltCircleUp, FaRegArrowAltCircleDown} from 'react-icons/fa';\nimport actions from '../../actions';\nimport styles from '../common.module.scss';\n\nconst Navigator = ({id}) => {\n  const {t} = useTranslation();\n  const dispatch = useDispatch();\n  const navigatePrev = () => dispatch(actions.component.navigatePrev(id));\n  const navigateNext = () => dispatch(actions.component.navigateNext(id));\n  const navigateUp = () => dispatch(actions.component.navigateUp(id));\n  const navigateDown = () => dispatch(actions.component.navigateDown(id));\n\n  return (\n    <div className={`${styles.toolbar_button_section}`}>\n      <div className={`${styles.toolbar_button_section_title}`}>{t('Navigator.navigate')}</div>\n      <div className={`${styles.toolbar_button_group}`}>\n        <div className={`${styles.toolbar_button}`} onClick={navigatePrev}>\n          <FaRegArrowAltCircleLeft />\n        </div>\n        <div className={`${styles.toolbar_button}`} onClick={navigateNext}>\n        <FaRegArrowAltCircleRight />\n        </div>\n        <div className={`${styles.toolbar_button}`} onClick={navigateUp}>\n          <FaRegArrowAltCircleUp />\n        </div>\n        <div className={`${styles.toolbar_button}`} onClick={navigateDown}>\n        <FaRegArrowAltCircleDown />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Navigator;","import Cross from '../components/controls/Cross';\nimport Delete from '../components/controls/Delete';\nimport Navigator from '../components/controls/Navigator';\n\nconst components = {};\nwindow.components = components;\n\nconst registerComponent = (declaration) => {\n  const {name, ...props} = declaration;\n  let {controls = [], ...rest} = props;\n  controls = [Navigator, Delete, Cross, ...controls];\n\n  components[name] = {controls, ...rest};\n};\n\nconst getRecordForName = (name) => components[name] || {};\n\nconst getComponentForName = (name) => getRecordForName(name).component;\n\nconst getEditorForName = (name) => getRecordForName(name).editor;\n\nconst getControlsForName = (name) => getRecordForName(name).controls;\n\nconst getComponentNameList = () => Object.keys(components);\n\nconst getDefaultParamsForName = (name) => getRecordForName(name).default;\n\nconst getOnsitePropsForName = (name) => getRecordForName(name).onsite;\n\nexport {\n  registerComponent,\n  getComponentForName,\n  getEditorForName,\n  getControlsForName,\n  getComponentNameList,\n  getDefaultParamsForName,\n  getOnsitePropsForName\n}\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { FaPlusCircle, FaTrashAlt } from 'react-icons/fa';\nimport actions from '../actions';\nimport styles from './Properties.module.scss';\n\nconst PropertyEditor = ({id, k, v}) => {\n  const dispatch = useDispatch();\n  const [value, setValue] = useState(v);\n\n  const handleOnValidate = (event) => {\n    if (event.key === 'Enter') {\n      dispatch(actions.component.setStyleValue(id, k, value));\n    }\n  }\n\n  const handleOnChange = (event) => {\n    setValue(event.target.value);\n  }\n\n  const deleteProperty = () => {\n    dispatch(actions.component.deleteStyle(id, k));\n  }\n\n  return (\n    <div className={`${styles.PropertyEditor}`}>\n      <span>{k}</span>\n      <input value={value} onKeyPress={handleOnValidate} onChange={handleOnChange} />\n      <button onClick={deleteProperty}><FaTrashAlt /></button>\n    </div>\n  );\n}\n\nconst PropertyList = ({id}) => {\n  const style = useSelector((state) => state.components.states[id].style);\n\n  return (\n    <div>\n      <div>{id}</div>\n      <div className={`${styles.PropertyList}`}>\n        {Object.entries(style).map(([k, v]) => {\n          return <PropertyEditor key={`${id}_${k}`} id={id} k={k} v={v} />;\n        })}\n      </div>\n      <AddPropertyPanel id={id} />\n    </div>\n  );\n};\n\nconst Properties = () => {\n  const { t } = useTranslation();\n  const activeComponentId = useSelector((state) => state.components.active);\n//  <h1>{t(\"Properties.title\")}</h1>\n\n  return (\n    <div className={styles.Properties}>\n      {activeComponentId && <PropertyList id={activeComponentId} />}\n      {!activeComponentId && <span className={`${styles.LabelSelectComponent}`}>{t(\"Properties.select_component\")}</span>}\n    </div>\n  );\n};\n\nconst AddPropertyPanel = ({id}) => {\n  const dispatch = useDispatch();\n  const [property, setProperty] = useState(\"property\");\n  const [value, setValue] = useState(\"value\");\n\n  const addProperty = () => {\n    dispatch(actions.component.addStyle(id, property, value))\n  }\n\n  return (\n    <div className={`${styles.PropertyAdder}`}>\n      <input value={property} onChange={(e) => setProperty(e.target.value)} />\n      <input value={value} onChange={(e) => setValue(e.target.value)} />\n      <button onClick={addProperty}><FaPlusCircle/></button>\n    </div>\n  );\n}\n\nexport default Properties;","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styles from './Selector.module.scss';\n\nconst Selector = ({list, onSelect, onCancel}) => {\n  const { t } = useTranslation();\n  const [selected, setSelected] = useState('');\n\n  const onListEntryClicked = (id) => {\n    setSelected(list[id]);\n  }\n\n  return (\n    <div className={`${styles.Selector}`}>\n      <div className={`${styles.List}`}>\n        {list.map((item, idx) =>  <SelectorListEntry key={idx} id={idx} text={item} onSelected={onListEntryClicked} />)}\n      </div>\n\n      <input value={selected} onChange={(e) => setSelected(e.target.value) }/>  \n\n      <div onClick={() => {console.log('ACTION !'); onSelect(selected)}}>Select</div>\n      <div onClick={onCancel}>Cancel</div>\n    </div>\n  );\n}\n\nconst SelectorListEntry = ({text, id, onSelected}) => {\n  return (\n    <div className={`${styles.ListItem}`} onClick={() => onSelected(id)}>{text}</div>\n  );\n}\n\nexport default Selector;\n","import React, { useMemo } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport actions from '../actions';\nimport {buildEventHandlerWrapper, noop} from '../misc/utils';\nimport styles from './Tree.module.scss';\n\nconst Tree = () => {\n  const dispatch = useDispatch();\n  const tree = useSelector(state => state.components);\n  const { root, active, states } = tree;\n\n  const renderSubcomponents = (id) => {\n    return (\n      <div className={`${styles.Subcomponents}`}>\n        {states[id].params.ids.map((subId) => {\n          return renderComponent(subId);\n        })}\n      </div>\n    );\n  };\n\n  const renderComponent = (id) => {\n    const compoDesc = states[id];\n\n    const onClick = () => {\n      const editComponent = () => dispatch(actions.component.editComponent(id));\n      return buildEventHandlerWrapper(editComponent);\n    };\n  \n    return (\n      <div className={`${styles.Component}`} onClick={onClick()}>\n        <span className={active === id ? `${styles.active}` : \"\"}>{id}</span>\n        {compoDesc.params.ids && renderSubcomponents(id)}\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${styles.Tree}`}>\n      {renderComponent(root)}\n    </div>\n  );\n};\n\nexport default Tree;\n","import React, { useState } from 'react';\nimport { noop } from '../misc/utils';\nimport styles from './Modal.module.scss';\n\nconst ModalContext = React.createContext({\n  push: noop,\n  pop: noop\n});\n\nconst ModalStack = ({children}) => {\n  const [modals, setModals] = useState([]);\n\n  const push = (modal) => {\n    setModals([modal, ...modals])\n  };\n\n  const pop = () => {\n    const [_head, ...tail] = modals; \n    setModals(tail);\n  };\n\n  const actions = {\n    push,\n    pop\n  }\n\n  const renderModals = () => {\n    if (modals.length > 0) {\n      const Comp = modals[0];\n      return (\n        <div className={`${styles.ModalStack}`}>\n          <Comp />\n        </div>\n      );\n    }\n\n    return null;\n  }\n\n  return (\n    <ModalContext.Provider value={actions}>\n      {renderModals()}\n      {children}\n    </ModalContext.Provider>\n  );\n};\n\nexport { ModalStack as default, ModalContext };\n","const KEY_FILENAMES = 'editor2000-filenames';\nconst KEY_FILENAME_PREFIX = 'editor2000-';\n\nconst Store = {\n  listFilenames: () => {\n    const filenames = localStorage.getItem(KEY_FILENAMES) || \"[]\";\n    return JSON.parse(filenames);\n  },\n\n  loadFromFile: (filename) => {\n    const filecontent = localStorage.getItem(`${KEY_FILENAME_PREFIX}${filename}`);\n    return JSON.parse(filecontent);\n  },\n\n  saveToFile: (filename, object) => {\n    const mangledFilename = `${KEY_FILENAME_PREFIX}${filename}`;\n    const filecontent = JSON.stringify(object);\n    localStorage.setItem(mangledFilename, filecontent);\n\n    const filenamesBucketContent = localStorage.getItem(KEY_FILENAMES) || \"[]\";\n    const filenames = JSON.parse(filenamesBucketContent);\n    const newFilenames = filenames.includes(filename) ? filenames : [...filenames, filename]\n    const newFilenamesBucketContent = JSON.stringify(newFilenames);\n    localStorage.setItem(KEY_FILENAMES, newFilenamesBucketContent);\n  }\n};\n\nwindow.Store = Store;\n\nexport default Store;\n","import React, { useState, useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch } from 'react-redux';\nimport { FaHamburger, FaSave, FaFolderOpen, FaFile } from 'react-icons/fa';\nimport { v4 as uuidv4 } from 'uuid';\nimport Properties from './Properties';\nimport Selector from './Selector';\nimport Tree from './Tree';\nimport { ModalContext } from './Modal';\nimport actions from '../actions';\nimport Store from '../misc/localstorage';\nimport commonStyle from './common.module.scss';\nimport styles from './ControlPanel.module.scss';\n\nconst Row = ({children}) => {\n  return (\n    <div className={`${styles.Row}`}>\n      {children}\n    </div>\n  );\n};\n\nconst Group = ({title = null, children}) => {\n  return (\n    <div className={`${styles.Group}`}>\n      {title && <div className={`${styles.GroupTitle}`}>{title}</div>}\n      <div className={`${styles.GroupContent}`}>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nconst Item = ({children}) => {\n  return (\n    <div className={`${styles.Item}`}>\n      {children}\n    </div>\n  );\n};\n\nconst SaveButton = () => {\n  const dispatch = useDispatch();\n  const { push, pop } = useContext(ModalContext);\n\n  const filenames = Store.listFilenames();\n  const saveFile = (filename) => {\n    pop();\n    dispatch(actions.component.save(filename))\n  }\n\n  const component = () => <Selector list={filenames} onSelect={saveFile} onCancel={() => pop()} />\n\n  const onClick = () => {\n    push(component);\n  };\n\n  return (\n    <div className={`${styles.Button}`} onClick={onClick}>\n      <FaSave />\n    </div>\n  );\n};\n\nconst OpenButton = () => {\n  const dispatch = useDispatch();\n  const { push, pop } = useContext(ModalContext);\n\n  const filenames = Store.listFilenames();\n  const loadFile = (filename) => {\n    pop();\n    dispatch(actions.component.load(filename))\n  }\n\n  const component = () => <Selector list={filenames} onSelect={loadFile} onCancel={() => pop()} />\n\n  const onClick = () => {\n    push(component);\n  };\n\n  return (\n    <div className={`${styles.Button}`} onClick={onClick}>\n      <FaFolderOpen />\n    </div>\n  );\n};\n\nconst NewButton = () => {\n  const dispatch = useDispatch();\n\n  const onClick = () => {\n    dispatch(actions.component.reset());\n  };\n\n  return (\n    <div className={`${styles.Button}`} onClick={onClick}>\n      <FaFile />\n    </div>\n  );\n};\n\nconst ControlPanel = () => {\n  const { t } = useTranslation();\n  const [showBar, setShowBar] = useState(true);\n\n  return (\n    <div className={`${styles.ControlPanel}`}>\n      <div className={`${commonStyle.toolbar_button} ${showBar ? commonStyle.rotate : \"\"} ${styles.hamburger_button}`}><FaHamburger onClick={() => setShowBar(!showBar)} /></div>\n      {showBar &&\n        <>\n          <Row>\n            <Group>\n              <Item><NewButton/></Item>\n            </Group>\n            <Group title=\"file\">\n              <Item><SaveButton/></Item>\n              <Item><OpenButton/></Item>\n            </Group>\n          </Row>\n\n          <Row>\n            <Group>\n              <Properties />\n            </Group>\n          </Row>\n\n          <Row>\n            <Group>\n              <Tree />\n            </Group>\n          </Row>\n        </>}\n    </div>\n  );\n};\n\nexport default ControlPanel;\n","import React, {useState, useLayoutEffect, useMemo} from 'react';\nimport {useDispatch} from 'react-redux';\nimport {getComponentForName, getEditorForName} from './registry';\nimport {buildEventHandlerWrapper, noop} from '../misc/utils';\nimport actions from '../actions';\n\nconst EditorFrame = ({component: name, id, active, style, dropTarget, ...rest}) => {\n  const dispatch = useDispatch();\n  const component = active ? (getEditorForName(name) || getComponentForName(name)) : getComponentForName(name);\n  const [componentEl, setComponentEl] = useState(null);\n\n  useLayoutEffect(() => {\n    if (active) {\n      dispatch(actions.component.setOverlayTarget(componentEl));\n    }\n  }, [componentEl, dispatch, active]);\n\n  const onClick = useMemo(() => {\n    if (active) {\n      return buildEventHandlerWrapper(noop);\n    }\n    else {\n      const editComponent = () => dispatch(actions.component.editComponent(id));\n      return buildEventHandlerWrapper(editComponent);\n    }\n  }, [active, id, dispatch]);\n\n  const setRef = (e) => setComponentEl(e);\n\n  const onDragOver = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    dispatch(actions.component.dragOver(id));\n  };\n  \n  const onDrop = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    dispatch(actions.component.drop(id));\n  }\n  \n  let newStyle = {...style};\n\n  if (dropTarget) {\n    newStyle.background = 'rgba(255, 157, 100, 0.5)';\n  }\n\n  return React.createElement(component, {...rest, style: newStyle, active: active, id: id, onClick: onClick, onDragOver: onDragOver, onDrop: onDrop, ref: setRef});\n};\n\nexport default EditorFrame;\n","import React, {useLayoutEffect, useState, useEffect} from 'react';\nimport {useDispatch} from 'react-redux';\nimport actions from '../actions';\nimport styles from './Overlay.module.scss';\n\nconst Overlay = ({element, refElement, children}) => {\n  const dispatch = useDispatch();\n  const position = useDOMRect(element);\n  const refPosition = useDOMRect(refElement, false);\n  const [style, setStyle] = useState({});\n\n  useEffect(() => {\n    if (!position || !refPosition) {\n      return;\n    }\n\n    setStyle((style) => {\n      const newStyle = {...style,\n        left: position.left - refPosition.left,\n        top: position.top - refPosition.top,\n        minWidth: position.width,\n        minHeight: position.height\n      };\n      return newStyle;\n    });\n\n  }, [position, refPosition]);\n\n  const startDrag = () => {\n    dispatch(actions.component.startDrag())\n  }\n  \n  return (\n    <div draggable onDragStart={startDrag} className={`${styles.Overlay} ${styles.edit}`} style={style}>\n      <div className={`${styles.OverlayHeader}`} />\n      <div className={`${styles.OverlayContent}`}>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nfunction parseMetricProp(value, suffix = \"px\") {\n  return parseInt(value.substring(0, value.length - suffix.length));\n}\n\nconst useDOMRect = (element, withMargin = true) => {\n  const [rect, setRect] = useState(null);\n\n  useLayoutEffect(() => {\n    if (!element) {\n      return;\n    }\n\n    const refElementRectList = element.getClientRects();\n    const refElementRect = refElementRectList && refElementRectList[0];\n    if (!refElementRect) {\n      return;\n    }\n\n    const overlayRect = withMargin ? adjustRectWithMargin(refElementRect, element) : refElementRect;\n    setRect(overlayRect);\n\n    const refresherId = setInterval(() => {\n      const newRectList = element.getClientRects();\n      const newRect = newRectList && newRectList[0];\n\n      setRect((oldRect) => {\n        const overlayRect = withMargin ? adjustRectWithMargin(newRect, element) : newRect;\n        const areSameRect = identicalRect(oldRect, overlayRect);\n        return areSameRect ? oldRect : overlayRect;\n      });\n    }, REFRESH_DELAY_MS);\n\n    return () => {\n      clearInterval(refresherId);\n    };\n\n  }, [element, withMargin]);\n\n  return rect;\n};\n\nconst REFRESH_DELAY_MS = 300;\n\nfunction adjustRectWithMargin(rect, element) {\n  const style = window.getComputedStyle(element);\n  const mt = parseMetricProp(style.getPropertyValue('margin-top'));\n  const ml = parseMetricProp(style.getPropertyValue('margin-left'));\n  const mb = parseMetricProp(style.getPropertyValue('margin-bottom'));\n  const mr = parseMetricProp(style.getPropertyValue('margin-right'));\n\n  return (\n    {\n      left: rect.left - ml,\n      top: rect.top - mt,\n      width: rect.width + ml + mr,\n      height: rect.height + mt + mb\n    }\n  );\n}\n\nconst identicalRect = (r1, r2) => {\n  if (!r1 || !r2) return false;\n\n  // Compare only used properties\n  return (\n    r1.top === r2.top && \n    r1.left === r2.left && \n    r1.width === r2.width && \n    r1.height === r2.height \n  );\n}\n\nexport default Overlay;\n","import React, {useState} from 'react';\nimport {FaHamburger} from 'react-icons/fa';\nimport {getControlsForName} from './registry';\nimport styles from './Toolbar.module.scss';\nimport commonStyle from './common.module.scss';\n\nconst Toolbar = ({component: name, id}) => {\n  const [showBar, setShowBar] = useState(true);\n  const controls = getControlsForName(name);\n\n  const renderTools = () =>\n    controls.map((c, idx) =>\n      <div className={`${styles.tool}`} key={idx}>\n        {React.createElement(c, {id})}\n      </div>);\n\n  return (\n    <div className={`${styles.Toolbar}`}>\n      <div className={`${commonStyle.toolbar_button} ${showBar ? commonStyle.rotate : \"\"}`}><FaHamburger onClick={() => setShowBar(!showBar)} /></div>\n      <div className={`${styles.controls} ${showBar ? styles.unfold : styles.fold}`}>\n        {renderTools()}\n      </div>\n    </div>\n  );\n};\n\nexport default Toolbar;\n","import React, {useState, useEffect} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {getOnsitePropsForName} from './registry';\nimport ControlPanel from './ControlPanel';\nimport EditorFrame from './EditorFrame';\nimport Overlay from './Overlay';\nimport Toolbar from './Toolbar';\nimport styles from './Components.module.scss';\nimport actions from '../actions';\n\nconst ComponentOnsiteEditor = ({refElement}) => {\n  const dispatch = useDispatch();\n  const element = useSelector((state) => state.components.element);\n  const active = useSelector((state) => state.components.active);\n  const component = useSelector((state) => state.components.states[state.components.active]);\n\n  const renderOnSiteEditors = () => {\n    const clazz = component.component;\n    const onsite = getOnsitePropsForName(clazz) || [];\n  \n    return onsite.map(([param, type], idx) => {\n      return (\n        <TextInputField key={idx} url={component.params[param]} handleChangeFn={(text) => {\n          dispatch(actions.component.setParamValue(active, param, text));\n        }}/>\n      );\n    });\n  };\n\n  return (\n    element && component\n      ? <Overlay element={element} refElement={refElement}>\n          {renderOnSiteEditors()}\n        </Overlay>\n      : null\n  )\n};\n\nconst ComponentToolbar = () => {\n  const active = useSelector((state) => state.components.active);\n  const component = useSelector((state) => state.components.states[state.components.active]);\n\n  return (\n    active && component ? <Toolbar component={component.component} id={active} /> : null\n  );\n};\n\nconst Components = () => {\n  const stateComponentsRoot = useSelector((state) => state.components.root);\n  const stateComponentsStatesRoot = useSelector((state) => state.components.states[state.components.root]);\n  const [componentEl, setComponentEl] = useState(null);\n\n  const setRef = (e) => setComponentEl(e);\n\n  return (\n    <div className={styles.Editor}>\n      <div className={styles.Header}>\n        <ComponentToolbar />\n      </div>\n      <div className={styles.Components} ref={setRef}>\n        <ComponentOnsiteEditor refElement={componentEl} />\n        {stateComponentsStatesRoot && <EditorFrame key={stateComponentsRoot} id={stateComponentsRoot} {...stateComponentsStatesRoot} />}\n      </div>\n      <ControlPanel />\n    </div>\n  );\n};\n\nconst TextInputField = ({url, handleChangeFn}) => {\n  const [text, setText] = useState(url);\n\n  useEffect(() => {\n    setText(url);\n  }, [url]);\n\n  const handleChange = (event) => setText(event.target.value)\n\n  const handleKeyDown = (event) => {\n    const code = event.keyCode;\n    if (code === 13) {\n      event.preventDefault();\n      handleChangeFn(text);\n    }\n  }\n\n  const style = {\n    border: '1px dashed',\n    borderRadius: '0',\n    outline: 'none',\n    padding: '10px',\n    pointerEvents: 'all',\n    zIndex: 2\n  };\n\n  return (\n    <input style={style} type=\"text\" value={text} onChange={handleChange} onKeyDown={handleKeyDown} />\n  );\n}\n\nexport default Components;\n","import React from 'react';\nimport { useDispatch } from \"react-redux\";\nimport { registerComponent } from './registry';\nimport actions from '../actions';\n\nconst Text = React.forwardRef(({id, params, ...rest}, ref) => {\n  return (\n    <div {...rest} ref={ref}>\n      {params.text}\n    </div>\n  );\n});\n\nconst TextEditor = React.forwardRef(({id, params, ...rest}, ref) => {\n  const dispatch = useDispatch();\n\n  const updateText = (text) => {\n    text =\n      text\n        .replace(/<div[^/]*>/g, \"\\n\")\n        .replace(/<div[^/]*\\/>/g, \"\\n\")\n        .replace(/<br>/g, \"\\n\")\n        .replace(/<\\/div>/g, \"\")\n        .replace(/<\\/div>/g, \"\")\n        .replace(/<\\w*\\s*.*>/g, \"\")\n        .replace(/&lt;/g, '<')\n        .replace(/&gt;/g, '>')\n        .replace(/&amp;/g, '&')\n    dispatch(actions.component.setParamValue(id, 'text', text));\n  }\n\n  return (\n    <div contentEditable=\"true\" suppressContentEditableWarning=\"true\" id={id} onBlur={(e)=>{updateText(e.currentTarget.innerHTML)}} ref={ref} {...rest}>\n      {params.text}\n    </div>\n  );\n});\n\nregisterComponent({\n  name: 'text',\n  component: Text,\n  editor: TextEditor,\n  default: {\n    component: 'text',\n    params: {\n      text: ' ++++++ '\n    },\n    style: {}\n  }\n});\n\nexport default Text;\n","import React from 'react';\nimport { registerComponent } from './registry';\n\nconst Image = React.forwardRef(({params, ...rest}, ref) => {\n  return (\n    <img src={`${params.url}`} alt=\"img\" ref={ref} {...rest} />\n  );\n});\n\nregisterComponent({\n  name: 'image',\n  component: Image,\n  onsite: [\n    ['url', 'text']\n  ],\n  default: {\n    component: 'image',\n    params: {\n      url: 'https://picsum.photos/id/249/200/300'\n    },\n    style: {}\n  }\n});\n\nexport default Image;\n","import React, {useState} from 'react';\nimport {useDispatch} from 'react-redux';\nimport {useTranslation} from 'react-i18next';\nimport {FaStepBackward, FaStepForward} from 'react-icons/fa';\nimport {getComponentNameList} from '../registry';\nimport actions from '../../actions';\nimport styles from '../common.module.scss';\n\nconst TypeSelector = ({chooseComponent})  => {\n  const {t} = useTranslation();\n  return (\n    <select onChange={(e) => chooseComponent(e.target.value)}>\n      <option value=\"\">{t('Adder.choose_a_component')}</option>\n      {getComponentNameList().map((name, idx) => <option key={idx} value={name}>{name}</option>)}\n    </select>\n  );\n}\n\nconst ChildAdder = ({id}) => {\n  const {t} = useTranslation();\n  const dispatch = useDispatch();\n  const [componentName, setComponentName] = useState('');\n  const chooseComponent = (name) => {\n    setComponentName(name);\n  }\n\n  const isValidComponent = () => componentName !== '';\n\n  const prependComponent = () => dispatch(actions.component.prependComponent(id, componentName));\n  const appendComponent = () => dispatch(actions.component.appendComponent(id, componentName));\n\n  return (\n    <div className={`${styles.toolbar_button_section}`}>\n      <div className={`${styles.toolbar_button_section_title}`}>{t('Adder.add')}</div>\n      <div className={`${styles.toolbar_button_group}`}>\n        <div className={`${styles.toolbar_button} ${isValidComponent() ? '' : styles.inactive}`} onClick={isValidComponent() ? prependComponent : undefined}>\n          <FaStepBackward />\n        </div>\n        <div className={`${styles.toolbar_button}`}>\n          <TypeSelector chooseComponent={chooseComponent} />\n        </div>\n        <div className={`${styles.toolbar_button} ${isValidComponent() ? '' : styles.inactive}`} onClick={isValidComponent() ? appendComponent : undefined}>\n        <FaStepForward />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChildAdder;","import React from 'react';\nimport {useSelector} from \"react-redux\";\nimport {registerComponent} from './registry';\nimport EditorFrame from './EditorFrame';\nimport ChildAdder from './controls/ChildAdder';\n\nconst Subcomponent = ({id}) => {\n  const props = useSelector((state) => state.components.states[id]);\n\n  return (\n    <EditorFrame id={id} {...props} />\n  );\n};\n\nconst renderSubcomponents = (ids) => {\n  return ids.map((id) => {\n    return <Subcomponent key={id} id={id} />\n  })\n}\n\nconst Layout = React.forwardRef(({params, ...rest}, ref) => {\n  return (\n    <div ref={ref} {...rest}>\n      {renderSubcomponents(params.ids)}\n    </div>\n  );\n});\n\nregisterComponent({\n  name: 'layout',\n  component: Layout,\n  controls: [ChildAdder],\n  default: {\n    component: 'layout',\n    params: {\n      ids: []\n    },\n    style: {\n      alignItems: 'center',\n      display: 'flex',\n      flexDirection: 'column'\n    }\n  }\n});\n\nexport default Layout;\n","import React, { useEffect, useState, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { registerComponent } from './registry';\nimport styles from './YoutubeVideo.module.scss';\n\nconst YOUTUBE_SRC = \"https://www.youtube.com/iframe_api\";\n\nconst Youtube = React.forwardRef(({params, onClick, onDragOver, onDrop, style, active, ...rest}, ref) => {\n  const { t } = useTranslation();\n  const isDragging = useSelector((state) => state.components.dragging);\n  const [sdkReady, setSdkReady] = useState(false);\n  const playerRef = useRef();\n  // let player = null;\n\n  useEffect(() => {\n    if (document.querySelector(`script[src=\"${YOUTUBE_SRC}\"]`)) {\n      setSdkReady(true);\n      return;\n    }\n\n    window.onYouTubeIframeAPIReady = () => {\n      setSdkReady(true);\n    };\n\n    const youtubeScript = document.createElement(\"script\");\n    youtubeScript.src = YOUTUBE_SRC;\n    document.head.appendChild(youtubeScript);\n  }, [setSdkReady]);\n\n  useEffect(() => {\n    if (!sdkReady) {\n      return;\n    }\n\n    // Currently this code is useEffect hook is useless, but it could be the place to take\n    // actions after the YT sdk is loaded.\n    //\n    // e.g.\n    // \n    // player = new window.YT.Player(playerRef.current);\n    // player.addEventListener(\"onStateChange\", (event) => {\n    //   console.log('EVENT CODE', event.data);\n    // });\n  }, [sdkReady, playerRef]);\n\n  const containerStyle = {\n    position: 'relative'\n  }\n\n  const iframeStyle = {\n    ...style,\n    pointerEvents: (isDragging || active) ? 'none' : 'initial'\n  }\n\n  return (\n    <div ref={ref} style={containerStyle} {...rest}>\n      {!active && <div className={`${styles.EditBar}`} onClick={onClick} onDragOver={onDragOver} onDrop={onDrop}>{t('YoutubeVideo.click_to_edit')}</div>}\n      <iframe style={iframeStyle} ref={playerRef} title=\"y\" src={`https://www.youtube.com/embed/${params.code}?controls=0&enablejsapi=1`} frameBorder=\"0\" allow={`accelerometer; ${params.autoplay ? \"autoplay\" : \"\"}; encrypted-media; gyroscope; picture-in-picture`} allowFullScreen></iframe>\n    </div>\n  );\n});\n\nregisterComponent({\n  name: 'youtube',\n  component: Youtube,\n  onsite: [\n    ['code', 'text']\n  ],\n  default: {\n    component: 'youtube',\n    params: {\n      code: '4OkSsFsXLD8',\n      autoplay: false\n    },\n    style: {}\n  }\n});\n\nexport default Youtube;\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch } from \"react-redux\";\nimport actions from '../actions';\nimport styles from \"./App.module.scss\";\nimport Components from './Components';\nimport ModalStack from './Modal';\n\nimport './Text';\nimport './Image';\nimport './Layout';\nimport './YoutubeVideo';\n\nconst LangButton = ({lang}) => {\n  const dispatch = useDispatch();\n\n  return (\n    <div onClick={() => dispatch(actions.lang.setLang(lang))}>\n      {lang}\n    </div>\n  );\n}\n\nconst LangSelector = () => {\n  const langs = ['fr', 'en'];\n  const renderLangButtons = () => {\n    return langs.map((lang) => <LangButton lang={lang} />)\n  };\n\n  return (\n    <div>\n      {renderLangButtons()}\n    </div>\n  );\n}\n\nfunction App() {\n  const lang = useSelector((state) => state.lang);\n  const { i18n } = useTranslation();\n\n  useEffect(() => {\n    i18n.changeLanguage(lang);\n  }, [i18n, lang]);\n\n  return (\n    <ModalStack>\n      <div className={styles.App}>\n        {/*<LangSelector />*/}\n        <Components />\n      </div>\n    </ModalStack>\n  );\n}\n\nexport default App;\n","import { v4 as uuidv4 } from 'uuid';\nimport Actions from '../actions/componentActions';\nimport { getDefaultParamsForName } from '../components/registry';\nimport { createReducer } from '../misc/reduxtils';\nimport Store from '../misc/localstorage';\n\nconst id1 = uuidv4();\n\nconst INITIAL_STATE = {\n  active: null,\n  element: null,\n  root: id1,\n  states: {\n    [id1]: {active: false, component: 'layout', params: {ids: []}, style: {display: 'flex', flexDirection: 'column', padding: '1em'}},\n  },\n  dropTargetId: null,\n  dragging: false\n};\n\nexport default createReducer(INITIAL_STATE, {\n  [Actions.reset]: (_state, _action) => {\n    return INITIAL_STATE;\n  },\n\n  [Actions.load]: (_state, { filename }) => {\n    // TODO error handling\n    return Store.loadFromFile(filename);\n  },\n\n  [Actions.save]: (state, { filename }) => {\n    const {element: _drop, ...storableState} = state; // element is a DOM reference. Don't try to save it !\n    // TODO error handling\n    Store.saveToFile(filename, storableState);\n    return state;\n  },\n\n  [Actions.editComponent]: (state, action) => {\n    const id = action.id;\n    let newStates = {...state.states};\n\n    const oldId = state.active;\n    if (oldId) {\n      const oldComponentState = state.states[oldId];\n      newStates[oldId] = {...oldComponentState, active: false};\n    }\n\n    const oldComponentState = state.states[id];\n    newStates[id] = {...oldComponentState, active: true};\n\n    return {...state, active: id, states: newStates};\n  },\n\n  [Actions.cancelEdition]: (state, _action) => {\n    const id = state.active;\n    if (id) {\n      let newStates = {...state.states};\n      const oldComponentState = state.states[id];\n      newStates[id] = {...oldComponentState, active: false};\n      return {...state, active: null, element: null, states: newStates};\n    }\n    else {\n      return {...state, active: null, element: null};\n    }\n  },\n\n  [Actions.setParamValue]: (state, action) => {\n    const id = action.id\n    const newStates = {...state.states};\n\n    const oldComponentState = state.states[id];\n    newStates[id] = {...oldComponentState, params: {...oldComponentState.params, [action.payload.param]: action.payload.value}};\n\n    return {...state, states: newStates};\n  },\n\n  [Actions.setStyleValue]: (state, action) => {\n    const id = action.id\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n    const params = action.payload.params;\n    const oldStyle = newStates[id].style;\n    const newStyle = {...oldStyle, [params.property]: params.value};\n\n    newStates[id] = {\n      ...newStates[id],\n      style: newStyle\n    }\n    return newState;\n  },\n\n  [Actions.addStyle]: (state, action) => {\n    const id = action.id\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n    const params = action.payload.params;\n    const oldStyle = newStates[id].style;\n    const newStyle = {...oldStyle, [params.property]: params.value};\n\n    newStates[id] = {\n      ...newStates[id],\n      style: newStyle\n    }\n    return newState;\n  },\n\n  [Actions.deleteStyle]: (state, action) => {\n    const id = action.id\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n    const params = action.payload.params;\n    const oldStyle = newStates[id].style;\n    const {[params.property]: _, ...newStyle} = oldStyle;\n\n    newStates[id] = {\n      ...newStates[id],\n      style: newStyle\n    }\n    return newState;\n  },\n\n  [Actions.appendComponent]: (state, action) => {\n    const id = action.id\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n    const params = action.payload.params;\n    const targetComponentType = (state.states[id] && state.states[id].component)|| \"\";\n    if (targetComponentType !== 'layout') {\n      return state;\n    }\n\n    const newComponentId = uuidv4();\n    newStates[newComponentId] = {parent: id, active: false, ...getDefaultParamsForName(params.name)};\n\n    const newIds = [...newStates[id].params.ids, newComponentId];\n    newStates[id] = {\n      ...newStates[id],\n      params: {ids: newIds}\n    }\n\n    return newState;\n  },\n\n  [Actions.prependComponent]: (state, action) => {\n    const id = action.id\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n    const params = action.payload.params;\n    const targetComponentType = (state.states[id] && state.states[id].component)|| \"\";\n    if (targetComponentType !== 'layout') {\n      return state;\n    }\n\n    const newComponentId = uuidv4();\n    newStates[newComponentId] = {parent: id, active: false, ...getDefaultParamsForName(params.name)};\n\n    const newIds = [newComponentId, ...newStates[id].params.ids];\n    newStates[id] = {\n      ...newStates[id],\n      params: {ids: newIds}\n    }\n\n    return newState;\n  },\n\n  [Actions.deleteComponent]: (state, action) => {\n    const id = action.id\n    if (id === state.root) {\n      return state;\n    }\n\n    const newState = {...state, states: {...state.states}};\n    const newStates = newState.states;\n\n    if (id === newState.active) {\n      newState.active = null;\n    }\n\n    delete newStates[id];\n\n    Object.keys(newStates).forEach((k) => {\n      const componentState = newStates[k];\n      if (componentState.params.ids !== undefined) {\n        const ids = componentState.params.ids\n        const idx = ids.indexOf(id)\n        if (idx > -1) {\n          const newIds = [...ids.slice(0, idx), ...ids.slice(idx+1)];\n          newStates[k] = {...newStates[k], params: {...newStates[k].params, ids: newIds}};\n        }\n      }\n    })\n\n    let hasOrphans = true;\n    while (hasOrphans) {\n      hasOrphans = Object.keys(newStates).reduce((accIn, k) => {\n        const componentState = newStates[k];\n        if (k !== state.root && !newStates[componentState.parent]) {\n          delete newStates[k];\n          return true;\n        }\n        return accIn;\n      }, false);\n    }\n\n    return newState;\n  },\n\n  [Actions.navigatePrev]: (state, _action) => {\n    const currentId = state.active\n    const currentState = state.states[currentId];\n    const parentId = currentState.parent;\n    if (!parentId) {\n      return state;\n    }\n\n    const parent = state.states[parentId];\n    const ids = parent.params.ids;\n    const idx = ids.indexOf(currentId);\n    if (idx === 0) {\n      return state;\n    }\n\n    let targetId = ids[idx-1];\n    let newStates = {...state.states};\n\n    if (currentId) {\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, active: false};\n    }\n\n    const oldComponentState = state.states[targetId];\n    newStates[targetId] = {...oldComponentState, active: true};\n\n    return {...state, active: targetId, states: newStates};\n  },\n\n  [Actions.navigateNext]: (state, action) => {\n    const currentId = state.active\n    const currentState = state.states[currentId];\n    const parentId = currentState.parent;\n    if (!parentId) {\n      return state;\n    }\n\n    const parent = state.states[parentId];\n    const ids = parent.params.ids;\n    const idx = ids.indexOf(currentId);\n    if (idx === ids.length-1) {\n      return state;\n    }\n\n    let targetId = ids[idx+1];\n    let newStates = {...state.states};\n\n    if (currentId) {\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, active: false};\n    }\n\n    const oldComponentState = state.states[targetId];\n    newStates[targetId] = {...oldComponentState, active: true};\n\n    return {...state, active: targetId, states: newStates};\n  },\n\n  [Actions.navigateUp]: (state, action) => {\n    const currentId = action.id\n    const currentState = state.states[currentId];\n    const parentId = currentState.parent;\n    if (!parentId) {\n      return state;\n    }\n\n    let targetId = parentId;\n    let newStates = {...state.states};\n\n    if (currentId) {\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, active: false};\n    }\n\n    const oldComponentState = state.states[targetId];\n    newStates[targetId] = {...oldComponentState, active: true};\n\n    return {...state, active: targetId, states: newStates};\n  },\n\n  [Actions.navigateDown]: (state, action) => {\n    const currentId = action.id;\n    const currentState = state.states[currentId];\n    if (!currentState.params.ids || currentState.params.ids.length === 0) {\n      return state;\n    }\n\n    let targetId = currentState.params.ids[0];\n    let newStates = {...state.states};\n\n    if (currentId) {\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, active: false};\n    }\n\n    const oldComponentState = state.states[targetId];\n    newStates[targetId] = {...oldComponentState, active: true};\n\n    return {...state, active: targetId, states: newStates};\n  },\n\n  [Actions.setOverlayTarget]: (state, action) => {\n    return {...state, element: action.target};\n  },\n\n  [Actions.startDrag]: (state, _action) => {\n    return {...state, dragging: true};\n  },\n\n  [Actions.dragOver]: (state, action) => {\n    if (action.id === state.dropTargetId) {\n      // Drop target stays the same, do nothing\n      return state;\n    }\n\n    let currentId = state.dropTargetId;\n    let targetId = action.id;\n    let newStates = {...state.states};\n\n    // Cannot drop inside it-self, or in a child element\n    let canDrop = true;\n    let testDropId = targetId;\n    while (canDrop && testDropId) {\n      if (testDropId === state.active) {\n        canDrop = false;\n        break;\n      }\n      testDropId = state.states[testDropId].parent;\n    }\n\n    if (!canDrop) {\n      if (! currentId) {\n        return state; // No current drop target, just leave\n      }\n\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, dropTarget: false};\n      return {...state, dropTargetId: null, states: newStates};\n    }\n\n    if (currentId) {\n      const oldComponentState = state.states[currentId];\n      newStates[currentId] = {...oldComponentState, dropTarget: false};\n    }\n\n    const oldComponentState = state.states[targetId];\n    newStates[targetId] = {...oldComponentState, dropTarget: true};\n\n    return {...state, dropTargetId: targetId, states: newStates};\n  },\n\n  [Actions.drop]: (state, _action) => {\n    let newStates = {...state.states};\n    let dropTargetId = state.dropTargetId;\n\n    if (!dropTargetId) {\n      return {...state, dropTargetId: null, dragging: false};\n    }\n\n    const oldComponentState = state.states[dropTargetId];\n    newStates[dropTargetId] = {...oldComponentState, dropTarget: false};\n\n    // Find the target's parent \n    const targetParentId = oldComponentState.parent;\n    if (!targetParentId) {\n      return {...state, dropTargetId: null, dragging: false};\n    }\n\n    const movedId = state.active;\n\n    // Remove the moved node from its parent id list\n    const movedParentId = state.states[movedId].parent;\n    if (!movedParentId) {\n      return {...state, dropTargetId: null, dragging: false};\n    }\n\n    const movedParent = state.states[movedParentId];\n    const ids = movedParent.params.ids;\n    const idx = ids.indexOf(movedId);\n    if (idx === -1) {\n      return {...state, dropTargetId: null, dragging: false};\n    }\n\n    const newIds = [...ids.slice(0, idx), ...ids.slice(idx+1)];\n    newStates[movedParentId] = {...movedParent, params: {...movedParent.params, ids: newIds}};\n\n    // Insert the moved node just before the target node in the latter parent id list\n    const targetParent = newStates[targetParentId];\n    const targetParentIds = targetParent.params.ids\n    const idx1 = targetParentIds.indexOf(dropTargetId)\n    if (idx1 === -1) {\n      return {...state, dropTargetId: null, dragging: false};\n    }\n\n    const newIds1 = [...targetParentIds.slice(0, idx1), movedId, ...targetParentIds.slice(idx1)];\n    newStates[targetParentId] = {...targetParent, params: {...targetParent.params, ids: newIds1}};\n\n    // Update moved node parent\n    const moved = state.states[movedId];\n    newStates[movedId] = {...moved, parent: targetParentId};\n\n    return {...state, dropTargetId: null, states: newStates, dragging: false};\n  }\n});\n","import { SET_LANG } from '../constants/action-types';\n\nconst INITIAL_STATE = 'fr';\n\nfunction langReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case SET_LANG:\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\n\nexport default langReducer;\n","import * as Actions from '../constants/action-types';\n\nconst INITIAL_STATE = null;\n\nfunction editorReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    default:\n      return state;\n  }\n};\n\nexport default editorReducer;\n","import { combineReducers } from 'redux';\nimport componentsReducer from './componentsReducer';\nimport langReducer from './langReducer';\nimport editorReducer from './editorReducer';\nimport { cascadeReducers } from '../misc/reduxtils';\n\nconst rootReducer = combineReducers({\n  components: componentsReducer,\n  lang: langReducer,\n  editor: editorReducer\n});\n\nconst logReducer = (state, action) => {\n  if (window.debug) {\n    console.log('action', action);\n  }\n  return state;\n};\n\nexport default cascadeReducers(logReducer, rootReducer);\n","import { createStore } from 'redux';\nimport rootReducer from \"../reducers/index\";\nimport actions from '../actions';\n\nimport Store from '../misc/localstorage';\nimport HARDCODED_SAVED_DATA from '../misc/movies';\n\nStore.saveToFile('default', JSON.parse(HARDCODED_SAVED_DATA));\n\nconst store = createStore(rootReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nstore.dispatch(actions.component.reset());\n\nexport default store;\n","export default '{\"active\":\"ab28cfd3-9289-41f6-8b24-220fc1074f32\",\"root\":\"b5d02377-f7d7-469e-b92d-8bf78522a76f\",\"states\":{\"95c6fe16-dc65-4eec-88b8-d08e6907813f\":{\"active\":false,\"component\":\"text\",\"parent\":\"b5d02377-f7d7-469e-b92d-8bf78522a76f\",\"params\":{\"text\":\"hello \\\\n world!\"},\"style\":{\"whiteSpace\":\"pre-wrap\"}},\"2cd9ba51-86da-4acf-95e9-de7c283d66f7\":{\"active\":false,\"component\":\"image\",\"parent\":\"2bbf5ea0-e94a-4429-82d8-f1235ef4fbfe\",\"params\":{\"url\":\"https://picsum.photos/id/249/200/300\"},\"style\":{}},\"84d6ce19-dd60-43ee-b0a7-bda90b96b7d0\":{\"active\":false,\"component\":\"text\",\"parent\":\"2bbf5ea0-e94a-4429-82d8-f1235ef4fbfe\",\"params\":{\"text\":\"Under the bridge\"},\"style\":{\"whiteSpace\":\"pre-wrap\",\"fontSize\":\"20px\"}},\"2bbf5ea0-e94a-4429-82d8-f1235ef4fbfe\":{\"active\":false,\"component\":\"layout\",\"parent\":\"b5d02377-f7d7-469e-b92d-8bf78522a76f\",\"params\":{\"ids\":[\"2cd9ba51-86da-4acf-95e9-de7c283d66f7\",\"84d6ce19-dd60-43ee-b0a7-bda90b96b7d0\"]},\"style\":{\"flexDirection\":\"column\"}},\"b5d02377-f7d7-469e-b92d-8bf78522a76f\":{\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"15cb2923-16b0-414e-a53b-d1065f443988\",\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"2bbf5ea0-e94a-4429-82d8-f1235ef4fbfe\",\"95c6fe16-dc65-4eec-88b8-d08e6907813f\"]},\"style\":{\"flexDirection\":\"column\",\"display\":\"flex\",\"--panelShadow\":\"8px 8px 16px #6e6457\",\"maxWidth\":\"100%\"}},\"800b3628-fe62-4e14-90e0-2ac4f7e50234\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"ab28cfd3-9289-41f6-8b24-220fc1074f32\",\"c4ef5937-4ba0-43d0-bc94-551adb4f2638\"]},\"style\":{\"alignItems\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"padding\":\"1em\",\"boxShadow\":\"var(--panelShadow)\",\"marginRight\":\"1em\",\"position\":\"relative\"},\"dropTarget\":false},\"936f047f-45bf-4804-a638-8678f1f997cd\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"c991db7b-95a5-43fa-a98a-2de1ca57f01c\"]},\"style\":{\"alignItems\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"padding\":\"1em\",\"boxShadow\":\"var(--panelShadow)\",\"marginRight\":\"1em\"},\"dropTarget\":false},\"c991db7b-95a5-43fa-a98a-2de1ca57f01c\":{\"parent\":\"936f047f-45bf-4804-a638-8678f1f997cd\",\"active\":false,\"component\":\"image\",\"params\":{\"url\":\"https://m.media-amazon.com/images/M/MV5BZWIxNzM5YzQtY2FmMS00Yjc3LWI1ZjUtNGVjMjMzZTIxZTIxXkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_SY1000_CR0,0,671,1000_AL_.jpg\"},\"style\":{}},\"c4ef5937-4ba0-43d0-bc94-551adb4f2638\":{\"parent\":\"800b3628-fe62-4e14-90e0-2ac4f7e50234\",\"active\":false,\"component\":\"image\",\"params\":{\"url\":\"https://m.media-amazon.com/images/M/MV5BZjRlNDUxZjAtOGQ4OC00OTNlLTgxNmQtYTBmMDgwZmNmNjkxXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SY1000_CR0,0,666,1000_AL_.jpg\"},\"style\":{},\"dropTarget\":false},\"e0c27bec-0e90-4422-869a-76740471165f\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"432c5067-4b29-4e2f-b5da-4510bee3f225\"]},\"style\":{\"alignItems\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"padding\":\"1em\",\"boxShadow\":\"var(--panelShadow)\",\"marginRight\":\"1em\"},\"dropTarget\":false},\"432c5067-4b29-4e2f-b5da-4510bee3f225\":{\"parent\":\"e0c27bec-0e90-4422-869a-76740471165f\",\"active\":false,\"component\":\"image\",\"params\":{\"url\":\"https://m.media-amazon.com/images/M/MV5BMjM1NjE5NjQxN15BMl5BanBnXkFtZTgwMjYzMzQxMDE@._V1_.jpg\"},\"style\":{}},\"1153d338-428d-4400-8d1c-d8a1d272eb17\":{\"parent\":\"15cb2923-16b0-414e-a53b-d1065f443988\",\"active\":false,\"component\":\"text\",\"params\":{\"text\":\"Movies Hall of Fame\"},\"style\":{\"fontSize\":\"3em\"},\"dropTarget\":false},\"70f95df6-f794-4738-be59-9a6b0d8645b6\":{\"parent\":\"b5d02377-f7d7-469e-b92d-8bf78522a76f\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"800b3628-fe62-4e14-90e0-2ac4f7e50234\",\"936f047f-45bf-4804-a638-8678f1f997cd\",\"e0c27bec-0e90-4422-869a-76740471165f\",\"8cdc9fe2-4a32-4476-9926-b6fb289eb897\",\"7c02f15c-78dd-4fb7-aa12-7c27968fe6d1\"]},\"style\":{\"alignItems\":\"center\",\"display\":\"flex\",\"flexDirection\":\"row\",\"paddingTop\":\"1em\",\"maxWidth\":\"100%\",\"overflow\":\"scroll\"},\"dropTarget\":false},\"7c02f15c-78dd-4fb7-aa12-7c27968fe6d1\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"text\",\"params\":{\"text\":\" ...\"},\"style\":{\"padding\":\"1em\"},\"dropTarget\":false},\"8cdc9fe2-4a32-4476-9926-b6fb289eb897\":{\"parent\":\"70f95df6-f794-4738-be59-9a6b0d8645b6\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"313d10e7-3896-400c-badb-7a594f0390d4\"]},\"style\":{\"alignItems\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"marginRight\":\"1em\",\"boxShadow\":\"var(--panelShadow)\",\"padding\":\"1em\"}},\"313d10e7-3896-400c-badb-7a594f0390d4\":{\"parent\":\"8cdc9fe2-4a32-4476-9926-b6fb289eb897\",\"active\":false,\"component\":\"image\",\"params\":{\"url\":\"https://m.media-amazon.com/images/M/MV5BNzhlMTRlYmMtYjliYy00OTMzLWJlN2ItYmYyNjc4YzBjM2QwXkEyXkFqcGdeQXVyNjA0Mzc0MzI@._V1_SY1000_CR0,0,742,1000_AL_.jpg\"},\"style\":{}},\"15cb2923-16b0-414e-a53b-d1065f443988\":{\"parent\":\"b5d02377-f7d7-469e-b92d-8bf78522a76f\",\"active\":false,\"component\":\"layout\",\"params\":{\"ids\":[\"0cf9d50f-aac6-4849-b497-79eff2b520b7\",\"1153d338-428d-4400-8d1c-d8a1d272eb17\",\"958210a9-66f8-4be3-86d6-6e7cfeeda04a\"]},\"style\":{\"alignItems\":\"center\",\"display\":\"flex\",\"flexDirection\":\"row\",\"justifyContent\":\"space-around\"},\"dropTarget\":false},\"0cf9d50f-aac6-4849-b497-79eff2b520b7\":{\"parent\":\"15cb2923-16b0-414e-a53b-d1065f443988\",\"active\":false,\"component\":\"youtube\",\"params\":{\"code\":\"4OkSsFsXLD8\",\"autoplay\":true},\"style\":{}},\"958210a9-66f8-4be3-86d6-6e7cfeeda04a\":{\"parent\":\"15cb2923-16b0-414e-a53b-d1065f443988\",\"active\":false,\"component\":\"youtube\",\"params\":{\"code\":\"eYfpSAxGakI\",\"autoplay\":true},\"style\":{}},\"ab28cfd3-9289-41f6-8b24-220fc1074f32\":{\"parent\":\"800b3628-fe62-4e14-90e0-2ac4f7e50234\",\"active\":true,\"component\":\"text\",\"params\":{\"text\":\" Breath taking Action !\"},\"style\":{\"whiteSpace\":\"pre-line\",\"position\":\"absolute\",\"background\":\"rgba(255, 0, 0, 0.8)\",\"height\":\"7em\",\"display\":\"flex\",\"justifyContent\":\"center\",\"alignItems\":\"center\",\"width\":\"7em\",\"borderRadius\":\"50%\",\"transform\":\"rotate(35deg)\",\"right\":\"1.5em\",\"top\":\"2.5em\",\"fontSize\":\"2em\",\"lineHeight\":\"2em\",\"color\":\"yellow\",\"boxShadow\":\"var(--panelShadow)\"}}},\"dropTargetId\":null,\"dragging\":false}';\n","const enTranslations = {\n  \"Editor\": {\n    \"title\": \"editor\"\n  },\n\n  \"Navigator\": {\n    \"navigate\": \"navigate\"\n  },\n\n  \"Adder\": {\n    \"add\": \"add\",\n    \"choose_a_component\": \"choose a component\"\n  },\n\n  \"YesNo\": {\n    \"yes\": \"yes\",\n    \"no\": \"no\"\n  },\n\n  \"Properties\": {\n    \"select_component\": \"pick a component\",\n    \"title\": \"properties\"\n  },\n\n  \"YoutubeVideo\": {\n    \"click_to_edit\": \"click to edit\"\n  }\n};\n\nexport default enTranslations;\n\n","const frTranslations = {\n  \"Editor\": {\n    \"title\": \"editeur\"\n  },\n\n  \"Navigator\": {\n    \"navigate\": \"naviguer\"\n  },\n\n  \"Adder\": {\n    \"add\": \"ajouter\",\n    \"choose_a_component\": \"choisissez un composant\"\n  },\n\n  \"YesNo\": {\n    \"yes\": \"oui\",\n    \"no\": \"non\"\n  },\n\n  \"Properties\": {\n    \"select_component\": \"slectionnez un composant\",\n    \"title\": \"proprits\"\n  },\n\n  \"YoutubeVideo\": {\n    \"click_to_edit\": \"cliquer pour diter\"\n  }\n};\n  \nexport default frTranslations;\n\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport enTranslations from './en-translations';\nimport frTranslations from './fr-translations';\n\ni18n\n  .use(initReactI18next)\n  .init({\n    resources: {\n      en: {\n        translations: enTranslations,\n      },\n      fr: {\n        translations: frTranslations,\n      },\n    },\n    fallbackLng: 'en',\n    debug: true,\n    ns: ['translations'],\n    defaultNS: 'translations',\n    keySeparator: '.',\n    interpolation: {\n      escapeValue: false,\n    },\n  });\n\nexport default i18n;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\nimport App from './components/App';\nimport store from './store';\nimport './translations/i18n';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\nwindow.store = store;\n"],"sourceRoot":""}